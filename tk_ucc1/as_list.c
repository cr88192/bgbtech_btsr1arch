struct {
u32 opn;	//opcode bits
u32 opm;	//opcode mask
int nmid;	//name index
int fmid;	//form index
}tkucc_jx2_optab[]={
{0x0000, 0xFF00,	TKUCC_NMID_MOVB,	TKUCC_FMID_REGST4},
{0x0100, 0xFF00,	TKUCC_NMID_MOVW,	TKUCC_FMID_REGST4},
{0x0200, 0xFF00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGST4},
{0x0300, 0xFF00,	TKUCC_NMID_MOVQ,	TKUCC_FMID_REGST4},
{0x0400, 0xFF00,	TKUCC_NMID_MOVB,	TKUCC_FMID_REGSTR0N},
{0x0500, 0xFF00,	TKUCC_NMID_MOVW,	TKUCC_FMID_REGSTR0N},
{0x0600, 0xFF00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGSTR0N},
{0x0700, 0xFF00,	TKUCC_NMID_MOVQ,	TKUCC_FMID_REGSTR0N},
{0x0800, 0xFF00,	TKUCC_NMID_MOVB,	TKUCC_FMID_REGLD4},
{0x0900, 0xFF00,	TKUCC_NMID_MOVW,	TKUCC_FMID_REGLD4},
{0x0A00, 0xFF00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGLD4},
{0x0B00, 0xFF00,	TKUCC_NMID_MOVQ,	TKUCC_FMID_REGLD4},
{0x0C00, 0xFF00,	TKUCC_NMID_MOVB,	TKUCC_FMID_REGLDR0M},
{0x0D00, 0xFF00,	TKUCC_NMID_MOVW,	TKUCC_FMID_REGLDR0M},
{0x0E00, 0xFF00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGLDR0M},
{0x0F00, 0xFF00,	TKUCC_NMID_MOVQ,	TKUCC_FMID_REGLDR0M},

{0x1000, 0xFF00,	TKUCC_NMID_ADD,		TKUCC_FMID_REGREG4},
{0x1100, 0xFF00,	TKUCC_NMID_SUB,		TKUCC_FMID_REGREG4},
{0x1200, 0xFF00,	TKUCC_NMID_ADDC,	TKUCC_FMID_REGREG4},
{0x1300, 0xFF00,	TKUCC_NMID_SUBC,	TKUCC_FMID_REGREG4},
{0x1400, 0xFF00,	TKUCC_NMID_TST,		TKUCC_FMID_REGREG4},
{0x1500, 0xFF00,	TKUCC_NMID_AND,		TKUCC_FMID_REGREG4},
{0x1600, 0xFF00,	TKUCC_NMID_OR,		TKUCC_FMID_REGREG4},
{0x1700, 0xFF00,	TKUCC_NMID_XOR,		TKUCC_FMID_REGREG4},
{0x1800, 0xFC00,	TKUCC_NMID_MOV,		TKUCC_FMID_REGREG55A},
{0x1C00, 0xFF00,	TKUCC_NMID_CMPEQ,	TKUCC_FMID_REGREG4},
{0x1D00, 0xFF00,	TKUCC_NMID_CMPHI,	TKUCC_FMID_REGREG4},
{0x1E00, 0xFF00,	TKUCC_NMID_CMPGT,	TKUCC_FMID_REGREG4},
{0x1F00, 0xFF00,	TKUCC_NMID_DMULU,	TKUCC_FMID_REGREG4},

{0x2000, 0xFF00,	TKUCC_NMID_BRA,		TKUCC_FMID_PCDISP8},
{0x2100, 0xFF00,	TKUCC_NMID_BSR,		TKUCC_FMID_PCDISP8},
{0x2200, 0xFF00,	TKUCC_NMID_BT,		TKUCC_FMID_PCDISP8},
{0x2300, 0xFF00,	TKUCC_NMID_BF,		TKUCC_FMID_PCDISP8},
{0x2400, 0xFF00,	TKUCC_NMID_LDIZ,	TKUCC_FMID_IMM8},
{0x2500, 0xFF00,	TKUCC_NMID_LDIN,	TKUCC_FMID_IMM8},
{0x2600, 0xFF00,	TKUCC_NMID_LDSH8,	TKUCC_FMID_IMM8},

{0x2800, 0xFF00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGLDSPVIMM4},
{0x2900, 0xFF00,	TKUCC_NMID_MOVX,	TKUCC_FMID_REGSTSPVIMM4},
{0x2A00, 0xFF00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGLDSPVIMM4},
{0x2B00, 0xFF00,	TKUCC_NMID_MOVX,	TKUCC_FMID_REGLDSPVIMM4},

{0x2C00, 0xFF00,	TKUCC_NMID_CMPEQ,	TKUCC_FMID_REGVIMM4},
{0x2D00, 0xFF00,	TKUCC_NMID_CMPEQ,	TKUCC_FMID_REGVIMM4_N},
{0x2E00, 0xFF00,	TKUCC_NMID_CMPGT,	TKUCC_FMID_REGVIMM4},
{0x2F00, 0xFF00,	TKUCC_NMID_CMPGE,	TKUCC_FMID_REGVIMM4},

{0x3000, 0xFFFF,	TKUCC_NMID_NOP,		TKUCC_FMID_NONE},
{0x3010, 0xFFFF,	TKUCC_NMID_RTS,		TKUCC_FMID_NONE},
{0x3020, 0xFFFF,	TKUCC_NMID_SLEEP,	TKUCC_FMID_NONE},
{0x3030, 0xFFFF,	TKUCC_NMID_BRK,		TKUCC_FMID_NONE},
{0x3040, 0xFFFF,	TKUCC_NMID_CLRT,	TKUCC_FMID_NONE},
{0x3050, 0xFFFF,	TKUCC_NMID_SETT,	TKUCC_FMID_NONE},
{0x3060, 0xFFFF,	TKUCC_NMID_CLRS,	TKUCC_FMID_NONE},
{0x3070, 0xFFFF,	TKUCC_NMID_SETS,	TKUCC_FMID_NONE},
{0x3080, 0xFFFF,	TKUCC_NMID_NOTT,	TKUCC_FMID_NONE},
{0x3090, 0xFFFF,	TKUCC_NMID_NOTS,	TKUCC_FMID_NONE},

{0x30C0, 0xFFFF,	TKUCC_NMID_RTE,		TKUCC_FMID_NONE},
{0x30F0, 0xFFFF,	TKUCC_NMID_LDTLB,	TKUCC_FMID_NONE},

{0x3012, 0xFFFF,	TKUCC_NMID_RTSU,	TKUCC_FMID_NONE},
{0x3022, 0xFFFF,	TKUCC_NMID_SYSCALL,	TKUCC_FMID_NONE},

{0x3042, 0xFFFF,	TKUCC_NMID_LDACL,	TKUCC_FMID_NONE},

{0x30A2, 0xFFFF,	TKUCC_NMID_SVEKRR,	TKUCC_FMID_NONE},
{0x30C2, 0xFFFF,	TKUCC_NMID_LDEKRR,	TKUCC_FMID_NONE},
{0x30D2, 0xFFFF,	TKUCC_NMID_LDEKEY,	TKUCC_FMID_NONE},
{0x30E2, 0xFFFF,	TKUCC_NMID_LDEENC,	TKUCC_FMID_NONE},
{0x30F2, 0xFFFF,	TKUCC_NMID_INVTLB,	TKUCC_FMID_NONE},

{0x3100, 0xF70F,	TKUCC_NMID_BRA,		TKUCC_FMID_REGRN4},
{0x3101, 0xF70F,	TKUCC_NMID_BSR,		TKUCC_FMID_REGRN4},
{0x3102, 0xF70F,	TKUCC_NMID_BT,		TKUCC_FMID_REGRN4},
{0x3103, 0xF70F,	TKUCC_NMID_BF,		TKUCC_FMID_REGRN4},

{0x310C, 0xF70F,	TKUCC_NMID_INVIC,	TKUCC_FMID_REGRN4},
{0x310D, 0xF70F,	TKUCC_NMID_INVDC,	TKUCC_FMID_REGRN4},

{0x3200, 0xF70F,	TKUCC_NMID_JMP,		TKUCC_FMID_REGRN4},
{0x3201, 0xF70F,	TKUCC_NMID_JSR,		TKUCC_FMID_REGRN4},
{0x3202, 0xF70F,	TKUCC_NMID_BTS,		TKUCC_FMID_REGRN4},
{0x3203, 0xF70F,	TKUCC_NMID_BFS,		TKUCC_FMID_REGRN4},

{0x3204, 0xF70F,	TKUCC_NMID_EXTUB,	TKUCC_FMID_REGRN4},
{0x3205, 0xF70F,	TKUCC_NMID_EXTUW,	TKUCC_FMID_REGRN4},
{0x3206, 0xF70F,	TKUCC_NMID_EXTSB,	TKUCC_FMID_REGRN4},
{0x3207, 0xF70F,	TKUCC_NMID_EXTSW,	TKUCC_FMID_REGRN4},

{0x3300, 0xF70F,	TKUCC_NMID_NOT,		TKUCC_FMID_REGRN4},
{0x3301, 0xF70F,	TKUCC_NMID_NEG,		TKUCC_FMID_REGRN4},
{0x3302, 0xF70F,	TKUCC_NMID_NEGC,	TKUCC_FMID_REGRN4},
{0x3303, 0xF70F,	TKUCC_NMID_MOVNT,	TKUCC_FMID_REGRN4},

{0x3603, 0xF70F,	TKUCC_NMID_TRAPA,	TKUCC_FMID_IMM5RN4},
{0x3604, 0xF70F,	TKUCC_NMID_EXTUL,	TKUCC_FMID_REGRN4},
{0x3605, 0xF70F,	TKUCC_NMID_EXTSL,	TKUCC_FMID_REGRN4},
{0x3606, 0xF70F,	TKUCC_NMID_SHAD,	TKUCC_FMID_REGRN4},
{0x3607, 0xF70F,	TKUCC_NMID_SHLD,	TKUCC_FMID_REGRN4},
{0x3608, 0xF70F,	TKUCC_NMID_TRAPA,	TKUCC_FMID_REGRN4},
{0x3609, 0xF70F,	TKUCC_NMID_WEXMD,	TKUCC_FMID_IMM5RN4},
{0x360A, 0xF70F,	TKUCC_NMID_CPUID,	TKUCC_FMID_IMM5RN4},
{0x360D, 0xF70F,	TKUCC_NMID_CMPHS,	TKUCC_FMID_REGRN4},

{0x360F, 0xF70F,	TKUCC_NMID_MOVT,	TKUCC_FMID_REGRN4},


{0x4000, 0xFF00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGSTSPVIMM4},
{0x4100, 0xFF00,	TKUCC_NMID_MOVQ,	TKUCC_FMID_REGSTSPVIMM4},
{0x4200, 0xFF00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGSTSPVIMM4},
{0x4300, 0xFF00,	TKUCC_NMID_MOVQ,	TKUCC_FMID_REGSTSPVIMM4},
{0x4400, 0xFF00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGLDSPVIMM4},
{0x4500, 0xFF00,	TKUCC_NMID_MOVQ,	TKUCC_FMID_REGLDSPVIMM4},
{0x4600, 0xFF00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGLDSPVIMM4},
{0x4700, 0xFF00,	TKUCC_NMID_MOVQ,	TKUCC_FMID_REGLDSPVIMM4},
{0x4800, 0xFF00,	TKUCC_NMID_LDC,		TKUCC_FMID_REGREG4},
{0x4900, 0xFF00,	TKUCC_NMID_STC,		TKUCC_FMID_REGREG4},
{0x4A00, 0xFF00,	TKUCC_NMID_LDS,		TKUCC_FMID_REGREG4},
{0x4B00, 0xFF00,	TKUCC_NMID_STS,		TKUCC_FMID_REGREG4},
{0x4C00, 0xFF00,	TKUCC_NMID_LEAB,	TKUCC_FMID_REGLDR0M},
{0x4D00, 0xFF00,	TKUCC_NMID_LEAW,	TKUCC_FMID_REGLDR0M},
{0x4E00, 0xFF00,	TKUCC_NMID_LEAL,	TKUCC_FMID_REGLDR0M},
{0x4F00, 0xFF00,	TKUCC_NMID_LEAQ,	TKUCC_FMID_REGLDR0M},

{0x5000, 0xFF00,	TKUCC_NMID_MOVUB,	TKUCC_FMID_REGLD4},
{0x5100, 0xFF00,	TKUCC_NMID_MOVUW,	TKUCC_FMID_REGLD4},
{0x5200, 0xFF00,	TKUCC_NMID_MOVUB,	TKUCC_FMID_REGLDR0M},
{0x5300, 0xFF00,	TKUCC_NMID_MOVUW,	TKUCC_FMID_REGLDR0M},
{0x5400, 0xFF00,	TKUCC_NMID_TSTQ,	TKUCC_FMID_REGREG4},
{0x5500, 0xFF00,	TKUCC_NMID_CMPQEQ,	TKUCC_FMID_REGREG4},

{0x5800, 0xFF00,	TKUCC_NMID_ADD,		TKUCC_FMID_REGR0REG4},
{0x5900, 0xFF00,	TKUCC_NMID_SUB,		TKUCC_FMID_REGR0REG4},
{0x5A00, 0xFF00,	TKUCC_NMID_DMULS,	TKUCC_FMID_REGR0REG4},
{0x5B00, 0xFF00,	TKUCC_NMID_CMPQHI,	TKUCC_FMID_REGREG4},
{0x5C00, 0xFF00,	TKUCC_NMID_CMPQGT,	TKUCC_FMID_REGREG4},
{0x5D00, 0xFF00,	TKUCC_NMID_AND,		TKUCC_FMID_REGR0REG4},
{0x5E00, 0xFF00,	TKUCC_NMID_OR,		TKUCC_FMID_REGR0REG4},
{0x5F00, 0xFF00,	TKUCC_NMID_XOR,		TKUCC_FMID_REGR0REG4},

{0x6000, 0xFF00,	TKUCC_NMID_FADD,	TKUCC_FMID_REGREG4},
{0x6100, 0xFF00,	TKUCC_NMID_FSUB,	TKUCC_FMID_REGREG4},
{0x6200, 0xFF00,	TKUCC_NMID_FMUL,	TKUCC_FMID_REGREG4},
{0x6300, 0xFF00,	TKUCC_NMID_FLDCF,	TKUCC_FMID_REGREG4},
{0x6400, 0xFF00,	TKUCC_NMID_FCMPEQ,	TKUCC_FMID_REGREG4},
{0x6500, 0xFF00,	TKUCC_NMID_FCMPGT,	TKUCC_FMID_REGREG4},
{0x6600, 0xFF00,	TKUCC_NMID_FSTCF,	TKUCC_FMID_REGREG4},

{0x6800, 0xFF00,	TKUCC_NMID_ADD,		TKUCC_FMID_REGKVIMM4_U},
{0x6900, 0xFF00,	TKUCC_NMID_ADD,		TKUCC_FMID_REGKVIMM4_N},
{0x6A00, 0xFF00,	TKUCC_NMID_LDIZ,	TKUCC_FMID_REGKVIMM4_U},
{0x6B00, 0xFF00,	TKUCC_NMID_LDIN,	TKUCC_FMID_REGKVIMM4_N},
{0x6C00, 0xFF00,	TKUCC_NMID_CMPEQ,	TKUCC_FMID_REGKVIMM4_U},
{0x6D00, 0xFF00,	TKUCC_NMID_CMPEQ,	TKUCC_FMID_REGKVIMM4_N},
{0x6E00, 0xFF00,	TKUCC_NMID_CMPGT,	TKUCC_FMID_REGKVIMM4_U},
{0x6F00, 0xFF00,	TKUCC_NMID_CMPGE,	TKUCC_FMID_REGKVIMM4_U},

{0x8000, 0xFF00,	TKUCC_NMID_MOVUL,	TKUCC_FMID_REGLD4},
{0x8100, 0xFF00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGSTDISP3},
{0x8200, 0xFF00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGSTDISP3},
{0x8300, 0xFF00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGSTDISP3},
{0x8400, 0xFF00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGSTDISP3},
{0x8500, 0xFF00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGSTDISP3},
{0x8600, 0xFF00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGSTDISP3},
{0x8700, 0xFF00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGSTDISP3},
{0x8800, 0xFF00,	TKUCC_NMID_MOVUL,	TKUCC_FMID_REGLDR0M},
{0x8900, 0xFF00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGLDDISP3},
{0x8A00, 0xFF00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGLDDISP3},
{0x8B00, 0xFF00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGLDDISP3},
{0x8C00, 0xFF00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGLDDISP3},
{0x8D00, 0xFF00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGLDDISP3},
{0x8E00, 0xFF00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGLDDISP3},
{0x8F00, 0xFF00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGLDDISP3},

{0xA000, 0xF000,	TKUCC_NMID_LDIZ,	TKUCC_FMID_IMM12A_U},
{0xB000, 0xF000,	TKUCC_NMID_LDIN,	TKUCC_FMID_IMM12A_N},
{0xC000, 0xF000,	TKUCC_NMID_ADD,		TKUCC_FMID_REGIMM8S},
{0xD000, 0xF000,	TKUCC_NMID_MOV,		TKUCC_FMID_REGIMM8S},


{0x0000E000, 0xF80FEB00,	TKUCC_NMID_MOVB,	TKUCC_FMID_REGSTDISP5},
{0x0800E000, 0xF80FEB00,	TKUCC_NMID_LEAB,	TKUCC_FMID_REGLDDISP5},
{0x0001E000, 0xF80FEB00,	TKUCC_NMID_MOVW,	TKUCC_FMID_REGSTDISP5},
{0x0801E000, 0xF80FEB00,	TKUCC_NMID_LEAW,	TKUCC_FMID_REGLDDISP5},
{0x0002E000, 0xF80FEB00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGSTDISP5},
{0x0802E000, 0xF80FEB00,	TKUCC_NMID_LEAL,	TKUCC_FMID_REGLDDISP5},
{0x0003E000, 0xF80FEB00,	TKUCC_NMID_MOVQ,	TKUCC_FMID_REGSTDISP5},
{0x0803E000, 0xF80FEB00,	TKUCC_NMID_LEAQ,	TKUCC_FMID_REGLDDISP5},

{0x0004E000, 0xF80FEB00,	TKUCC_NMID_MOVB,	TKUCC_FMID_REGSTRON},
{0x0804E000, 0xF80FEB00,	TKUCC_NMID_LEAB,	TKUCC_FMID_REGLDROM},
{0x0005E000, 0xF80FEB00,	TKUCC_NMID_MOVW,	TKUCC_FMID_REGSTRON},
{0x0805E000, 0xF80FEB00,	TKUCC_NMID_LEAW,	TKUCC_FMID_REGLDROM},
{0x0006E000, 0xF80FEB00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGSTRON},
{0x0806E000, 0xF80FEB00,	TKUCC_NMID_LEAL,	TKUCC_FMID_REGLDROM},
{0x0007E000, 0xF80FEB00,	TKUCC_NMID_MOVQ,	TKUCC_FMID_REGSTRON},
{0x0807E000, 0xF80FEB00,	TKUCC_NMID_LEAQ,	TKUCC_FMID_REGLDROM},

{0x0008E000, 0xF80FEB00,	TKUCC_NMID_MOVB,	TKUCC_FMID_REGLDDISP5},
{0x0808E000, 0xF80FEB00,	TKUCC_NMID_MOVUB,	TKUCC_FMID_REGLDDISP5},
{0x0009E000, 0xF80FEB00,	TKUCC_NMID_MOVW,	TKUCC_FMID_REGLDDISP5},
{0x0809E000, 0xF80FEB00,	TKUCC_NMID_MOVUW,	TKUCC_FMID_REGLDDISP5},
{0x000AE000, 0xF80FEB00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGLDDISP5},
{0x080AE000, 0xF80FEB00,	TKUCC_NMID_MOVUL,	TKUCC_FMID_REGLDDISP5},
{0x000BE000, 0xF80FEB00,	TKUCC_NMID_MOVQ,	TKUCC_FMID_REGLDDISP5},
{0x080BE000, 0xF80FEB00,	TKUCC_NMID_LDTEX,	TKUCC_FMID_REGLDROM},

{0x000CE000, 0xF80FEB00,	TKUCC_NMID_MOVB,	TKUCC_FMID_REGLDROM},
{0x080CE000, 0xF80FEB00,	TKUCC_NMID_MOVUB,	TKUCC_FMID_REGLDROM},
{0x000DE000, 0xF80FEB00,	TKUCC_NMID_MOVW,	TKUCC_FMID_REGLDROM},
{0x080DE000, 0xF80FEB00,	TKUCC_NMID_MOVUW,	TKUCC_FMID_REGLDROM},
{0x000EE000, 0xF80FEB00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGLDROM},
{0x080EE000, 0xF80FEB00,	TKUCC_NMID_MOVUL,	TKUCC_FMID_REGLDROM},
{0x000FE000, 0xF80FEB00,	TKUCC_NMID_MOVQ,	TKUCC_FMID_REGLDROM},
{0x080FE000, 0xF80FEB00,	TKUCC_NMID_LDTEX,	TKUCC_FMID_REGLDROM},

{0x1000E000, 0xF80FEB00,	TKUCC_NMID_ADD,		TKUCC_FMID_REGREGREG},
{0x1800E000, 0xF80FEB00,	TKUCC_NMID_ADDX,	TKUCC_FMID_REGREGREG},
{0x1001E000, 0xF80FEB00,	TKUCC_NMID_SUB,		TKUCC_FMID_REGREGREG},
{0x1801E000, 0xF80FEB00,	TKUCC_NMID_SUBX,	TKUCC_FMID_REGREGREG},

{0x1002E000, 0xF80FEB00,	TKUCC_NMID_DMULS,	TKUCC_FMID_REGREGREG},
{0x1802E000, 0xF80FEB00,	TKUCC_NMID_MULSQ,	TKUCC_FMID_REGREGREG},
{0x1003E000, 0xF80FEB00,	TKUCC_NMID_DMULU,	TKUCC_FMID_REGREGREG},
{0x1803E000, 0xF80FEB00,	TKUCC_NMID_MULUQ,	TKUCC_FMID_REGREGREG},

{0x1005E000, 0xF80FEB00,	TKUCC_NMID_AND,		TKUCC_FMID_REGREGREG},
{0x1805E000, 0xF80FEB00,	TKUCC_NMID_ANDX,	TKUCC_FMID_REGREGREG},
{0x1006E000, 0xF80FEB00,	TKUCC_NMID_OR,		TKUCC_FMID_REGREGREG},
{0x1806E000, 0xF80FEB00,	TKUCC_NMID_ORX,		TKUCC_FMID_REGREGREG},
{0x1007E000, 0xF80FEB00,	TKUCC_NMID_XOR,		TKUCC_FMID_REGREGREG},
{0x1807E000, 0xF80FEB00,	TKUCC_NMID_XORX,	TKUCC_FMID_REGREGREG},

{0x1008E000, 0xF8FFEB00,	TKUCC_NMID_BNDCHKB,	TKUCC_FMID_REGREGB},
{0x1018E000, 0xF8FFEB00,	TKUCC_NMID_BNDCHKW,	TKUCC_FMID_REGREGB},
{0x1028E000, 0xF8FFEB00,	TKUCC_NMID_BNDCHKL,	TKUCC_FMID_REGREGB},
{0x1038E000, 0xF8FFEB00,	TKUCC_NMID_BNDCHKQ,	TKUCC_FMID_REGREGB},

{0x1048E000, 0xF8FFEB00,	TKUCC_NMID_BNDCHK,	TKUCC_FMID_REGREGB},
{0x1848E000, 0xF8FFEB00,	TKUCC_NMID_MULUX,	TKUCC_FMID_REGREGB},
{0x1058E000, 0xF8FFEB00,	TKUCC_NMID_BNDCMP,	TKUCC_FMID_REGREGB},
{0x1858E000, 0xF8FFEB00,	TKUCC_NMID_MULHUX,	TKUCC_FMID_REGREGB},
{0x1068E000, 0xF8FFEB00,	TKUCC_NMID_VSKG,	TKUCC_FMID_REGREGB},
{0x1868E000, 0xF8FFEB00,	TKUCC_NMID_DIVUX,	TKUCC_FMID_REGREGB},
{0x1078E000, 0xF8FFEB00,	TKUCC_NMID_VSKC,	TKUCC_FMID_REGREGB},
{0x1878E000, 0xF8FFEB00,	TKUCC_NMID_MODUX,	TKUCC_FMID_REGREGB},



{0x1088E000, 0xF8FFEB00,	TKUCC_NMID_BCDADC,	TKUCC_FMID_REGREGB},
{0x1098E000, 0xF8FFEB00,	TKUCC_NMID_BCDSBB,	TKUCC_FMID_REGREGB},
{0x10A8E000, 0xF8FFEB00,	TKUCC_NMID_MOVZT,	TKUCC_FMID_REGREGB},
{0x18A8E000, 0xF8FFEB00,	TKUCC_NMID_XMOVZT,	TKUCC_FMID_REGREGB},
{0x10B8E000, 0xF8FFEB00,	TKUCC_NMID_SNIPEDC,	TKUCC_FMID_REGREGB},
{0x18B8E000, 0xF8FFEB00,	TKUCC_NMID_SNIPEIC,	TKUCC_FMID_REGREGB},

{0x10C8E000, 0xF8FFEB00,	TKUCC_NMID_CMPTAEQ,	TKUCC_FMID_REGREGB},
{0x18C8E000, 0xF8FFEB00,	TKUCC_NMID_CMPXEQ,	TKUCC_FMID_REGREGB},
{0x10D8E000, 0xF8FFEB00,	TKUCC_NMID_CMPTAHI,	TKUCC_FMID_REGREGB},
{0x18D8E000, 0xF8FFEB00,	TKUCC_NMID_CMPXHI,	TKUCC_FMID_REGREGB},
{0x10E8E000, 0xF8FFEB00,	TKUCC_NMID_CMPTAHS,	TKUCC_FMID_REGREGB},
{0x18E8E000, 0xF8FFEB00,	TKUCC_NMID_CMPXGT,	TKUCC_FMID_REGREGB},
{0x10F8E000, 0xF8FFEB00,	TKUCC_NMID_CONVFXI,	TKUCC_FMID_REGREGB},
{0x18F8E000, 0xF8FFEB00,	TKUCC_NMID_CONVFLI,	TKUCC_FMID_REGREGB},

{0x1009E000, 0xF8FFEB00,	TKUCC_NMID_ADD,		TKUCC_FMID_REGREGB},
{0x1809E000, 0xF8FFEB00,	TKUCC_NMID_ADDL,	TKUCC_FMID_REGREGB},
{0x1019E000, 0xF8FFEB00,	TKUCC_NMID_SUB,		TKUCC_FMID_REGREGB},
{0x1819E000, 0xF8FFEB00,	TKUCC_NMID_SUBL,	TKUCC_FMID_REGREGB},
{0x1029E000, 0xF8FFEB00,	TKUCC_NMID_ADDC,	TKUCC_FMID_REGREGB},
{0x1039E000, 0xF8FFEB00,	TKUCC_NMID_SUBC,	TKUCC_FMID_REGREGB},
{0x1049E000, 0xF8FFEB00,	TKUCC_NMID_TST,		TKUCC_FMID_REGREGB},
{0x1849E000, 0xF8FFEB00,	TKUCC_NMID_TSTQ,	TKUCC_FMID_REGREGB},
{0x1059E000, 0xF8FFEB00,	TKUCC_NMID_AND,		TKUCC_FMID_REGREGB},
{0x1069E000, 0xF8FFEB00,	TKUCC_NMID_OR,		TKUCC_FMID_REGREGB},
{0x1079E000, 0xF8FFEB00,	TKUCC_NMID_XOR,		TKUCC_FMID_REGREGB},

{0x1089E000, 0xF8FFEB00,	TKUCC_NMID_MOV,		TKUCC_FMID_REGREGB},
{0x1889E000, 0xF8FFEB00,	TKUCC_NMID_MOVX,	TKUCC_FMID_REGREGB},

{0x1099E000, 0xF8FFEB00,	TKUCC_NMID_STS,		TKUCC_FMID_REGREGB},
{0x1899E000, 0xF8FFEB00,	TKUCC_NMID_CMPNANTTEQ,	TKUCC_FMID_REGREGB},

{0x10A9E000, 0xF8FFEB00,	TKUCC_NMID_LDC,		TKUCC_FMID_REGREGB},
{0x18A9E000, 0xF8FFEB00,	TKUCC_NMID_SETTRAP,	TKUCC_FMID_REGREGB},
{0x10B9E000, 0xF8FFEB00,	TKUCC_NMID_STC,		TKUCC_FMID_REGREGB},
{0x18B9E000, 0xF8FFEB00,	TKUCC_NMID_CMPTTEQ,	TKUCC_FMID_REGREGB},

{0x10C9E000, 0xF8FFEB00,	TKUCC_NMID_CMPEQ,	TKUCC_FMID_REGREGB},
{0x18C9E000, 0xF8FFEB00,	TKUCC_NMID_CMPQEQ,	TKUCC_FMID_REGREGB},
{0x10D9E000, 0xF8FFEB00,	TKUCC_NMID_CMPHI,	TKUCC_FMID_REGREGB},
{0x18D9E000, 0xF8FFEB00,	TKUCC_NMID_CMPQHI,	TKUCC_FMID_REGREGB},
{0x10E9E000, 0xF8FFEB00,	TKUCC_NMID_CMPGT,	TKUCC_FMID_REGREGB},
{0x18E9E000, 0xF8FFEB00,	TKUCC_NMID_CMPQGT,	TKUCC_FMID_REGREGB},

{0x100CE000, 0xF8FFEB00,	TKUCC_NMID_NOT,		TKUCC_FMID_REGREGB},
{0x101CE000, 0xF8FFEB00,	TKUCC_NMID_NEG,		TKUCC_FMID_REGREGB},

{0x102CE000, 0xF8FFEB00,	TKUCC_NMID_CLZ,		TKUCC_FMID_REGREGB},
{0x182CE000, 0xF8FFEB00,	TKUCC_NMID_CLZQ,	TKUCC_FMID_REGREGB},
{0x103CE000, 0xF8FFEB00,	TKUCC_NMID_CTZ,		TKUCC_FMID_REGREGB},
{0x183CE000, 0xF8FFEB00,	TKUCC_NMID_CTZQ,	TKUCC_FMID_REGREGB},
{0x104CE000, 0xF8FFEB00,	TKUCC_NMID_BTRNS,	TKUCC_FMID_REGREGB},
{0x184CE000, 0xF8FFEB00,	TKUCC_NMID_BTRNSQ,	TKUCC_FMID_REGREGB},
{0x105CE000, 0xF8FFEB00,	TKUCC_NMID_EXTSL,	TKUCC_FMID_REGREGB},
{0x185CE000, 0xF8FFEB00,	TKUCC_NMID_EXTUL,	TKUCC_FMID_REGREGB},
{0x106CE000, 0xF8FFEB00,	TKUCC_NMID_SHAD,	TKUCC_FMID_REGREGB},
{0x186CE000, 0xF8FFEB00,	TKUCC_NMID_SHADQ,	TKUCC_FMID_REGREGB},
{0x107CE000, 0xF8FFEB00,	TKUCC_NMID_SHLD,	TKUCC_FMID_REGREGB},
{0x187CE000, 0xF8FFEB00,	TKUCC_NMID_SHLDQ,	TKUCC_FMID_REGREGB},
{0x108CE000, 0xF8FFEB00,	TKUCC_NMID_EXTSB,	TKUCC_FMID_REGREGB},
{0x188CE000, 0xF8FFEB00,	TKUCC_NMID_EXTUB,	TKUCC_FMID_REGREGB},
{0x109CE000, 0xF8FFEB00,	TKUCC_NMID_EXTSW,	TKUCC_FMID_REGREGB},
{0x189CE000, 0xF8FFEB00,	TKUCC_NMID_EXTUW,	TKUCC_FMID_REGREGB},

{0x10ECE000, 0xF8FFEB00,	TKUCC_NMID_CMPGE,	TKUCC_FMID_REGREGB},
{0x18ECE000, 0xF8FFEB00,	TKUCC_NMID_CMPQGE,	TKUCC_FMID_REGREGB},
{0x10FCE000, 0xF8FFEB00,	TKUCC_NMID_CMPHS,	TKUCC_FMID_REGREGB},
{0x18FCE000, 0xF8FFEB00,	TKUCC_NMID_CMPQHS,	TKUCC_FMID_REGREGB},


{0x100DE000, 0xF8FFEB00,	TKUCC_NMID_FLDCF,	TKUCC_FMID_REGREGB},
{0x180DE000, 0xF8FFEB00,	TKUCC_NMID_FLDCDX,	TKUCC_FMID_REGREGB},
{0x101DE000, 0xF8FFEB00,	TKUCC_NMID_FLDCFH,	TKUCC_FMID_REGREGB},
{0x102DE000, 0xF8FFEB00,	TKUCC_NMID_FLDCI,	TKUCC_FMID_REGREGB},
{0x103DE000, 0xF8FFEB00,	TKUCC_NMID_FLDCH,	TKUCC_FMID_REGREGB},

{0x104DE000, 0xF8FFEB00,	TKUCC_NMID_FSTCF,	TKUCC_FMID_REGREGB},
{0x184DE000, 0xF8FFEB00,	TKUCC_NMID_FSTCDX,	TKUCC_FMID_REGREGB},
{0x106DE000, 0xF8FFEB00,	TKUCC_NMID_FSTCI,	TKUCC_FMID_REGREGB},
{0x107DE000, 0xF8FFEB00,	TKUCC_NMID_FSTCH,	TKUCC_FMID_REGREGB},

{0x108DE000, 0xF8FFEB00,	TKUCC_NMID_FNEG,	TKUCC_FMID_REGREGB},
{0x109DE000, 0xF8FFEB00,	TKUCC_NMID_FABS,	TKUCC_FMID_REGREGB},
{0x10ADE000, 0xF8FFEB00,	TKUCC_NMID_FCMPEQ,	TKUCC_FMID_REGREGB},
{0x18ADE000, 0xF8FFEB00,	TKUCC_NMID_FCMPXEQ,	TKUCC_FMID_REGREGB},
{0x10BDE000, 0xF8FFEB00,	TKUCC_NMID_FCMPGT,	TKUCC_FMID_REGREGB},
{0x18BDE000, 0xF8FFEB00,	TKUCC_NMID_FCMPXGT,	TKUCC_FMID_REGREGB},

{0x104DE000, 0xF8FFEB00,	TKUCC_NMID_FSQRT,	TKUCC_FMID_REGREGB},

{0x100EE000, 0xF8FFEB00,	TKUCC_NMID_RGB5SHR1,	TKUCC_FMID_REGREGB},
{0x101EE000, 0xF8FFEB00,	TKUCC_NMID_PMORTL,		TKUCC_FMID_REGREGB},
{0x181EE000, 0xF8FFEB00,	TKUCC_NMID_PMORTQ,		TKUCC_FMID_REGREGB},

{0x102EE000, 0xF8FFEB00,	TKUCC_NMID_RGB5PCK32,	TKUCC_FMID_REGREGB},
{0x182EE000, 0xF8FFEB00,	TKUCC_NMID_RGB5PCK64,	TKUCC_FMID_REGREGB},
{0x103EE000, 0xF8FFEB00,	TKUCC_NMID_RGB5UPCK32,	TKUCC_FMID_REGREGB},
{0x183EE000, 0xF8FFEB00,	TKUCC_NMID_RGB5UPCK64,	TKUCC_FMID_REGREGB},

{0x184EE000, 0xF8FFEB00,	TKUCC_NMID_RGB32PCK64,	TKUCC_FMID_REGREGB},
{0x185EE000, 0xF8FFEB00,	TKUCC_NMID_RGB32UPCK64,	TKUCC_FMID_REGREGB},

{0x108EE000, 0xF8FFEB00,	TKUCC_NMID_PLDCM8SH,	TKUCC_FMID_REGREGB},
{0x188EE000, 0xF8FFEB00,	TKUCC_NMID_PLDCM8UH,	TKUCC_FMID_REGREGB},

{0x10AEE000, 0xF8FFEB00,	TKUCC_NMID_PSTCM8SH,	TKUCC_FMID_REGREGB},
{0x18AEE000, 0xF8FFEB00,	TKUCC_NMID_PSTCM8UH,	TKUCC_FMID_REGREGB},

{0x10CEE000, 0xF8FFEB00,	TKUCC_NMID_PLDCH,		TKUCC_FMID_REGREGB},
{0x18CEE000, 0xF8FFEB00,	TKUCC_NMID_PLDCHH,		TKUCC_FMID_REGREGB},

{0x10DEE000, 0xF8FFEB00,	TKUCC_NMID_PLDCEHL,		TKUCC_FMID_REGREGB},
{0x18DEE000, 0xF8FFEB00,	TKUCC_NMID_PLDCEHH,		TKUCC_FMID_REGREGB},

{0x10EEE000, 0xF8FFEB00,	TKUCC_NMID_PSTCH,		TKUCC_FMID_REGREGB},


{0x2000E000, 0xF80FEB00,	TKUCC_NMID_PADDW,	TKUCC_FMID_REGREGREG},
{0x2800E000, 0xF80FEB00,	TKUCC_NMID_PADDL,	TKUCC_FMID_REGREGREG},
{0x2001E000, 0xF80FEB00,	TKUCC_NMID_PSUBW,	TKUCC_FMID_REGREGREG},
{0x2801E000, 0xF80FEB00,	TKUCC_NMID_PSUBL,	TKUCC_FMID_REGREGREG},

{0x2002E000, 0xF80FEB00,	TKUCC_NMID_SHAR,	TKUCC_FMID_REGREGREG},
{0x2802E000, 0xF80FEB00,	TKUCC_NMID_SHARQ,	TKUCC_FMID_REGREGREG},
{0x2003E000, 0xF80FEB00,	TKUCC_NMID_SHLR,	TKUCC_FMID_REGREGREG},
{0x2803E000, 0xF80FEB00,	TKUCC_NMID_SHLRQ,	TKUCC_FMID_REGREGREG},

{0x2004E000, 0xF80FEB00,	TKUCC_NMID_PCSELTW,	TKUCC_FMID_REGREGREG},
{0x2804E000, 0xF80FEB00,	TKUCC_NMID_PCSELTL,	TKUCC_FMID_REGREGREG},

{0x2005E000, 0xF80FEB00,	TKUCC_NMID_PADDF,	TKUCC_FMID_REGREGREG},
{0x2805E000, 0xF80FEB00,	TKUCC_NMID_PADDFX,	TKUCC_FMID_REGREGREG},
{0x2006E000, 0xF80FEB00,	TKUCC_NMID_PSUBF,	TKUCC_FMID_REGREGREG},
{0x2806E000, 0xF80FEB00,	TKUCC_NMID_PSUBFX,	TKUCC_FMID_REGREGREG},
{0x2007E000, 0xF80FEB00,	TKUCC_NMID_PMULF,	TKUCC_FMID_REGREGREG},
{0x2807E000, 0xF80FEB00,	TKUCC_NMID_PMULFX,	TKUCC_FMID_REGREGREG},

{0x2008E000, 0xF80FEB00,	TKUCC_NMID_MOVHD,	TKUCC_FMID_REGREGREG},
{0x2808E000, 0xF80FEB00,	TKUCC_NMID_MOVLD,	TKUCC_FMID_REGREGREG},
{0x2009E000, 0xF80FEB00,	TKUCC_NMID_MOVHLD,	TKUCC_FMID_REGREGREG},
{0x2809E000, 0xF80FEB00,	TKUCC_NMID_MOVLHD,	TKUCC_FMID_REGREGREG},
{0x200AE000, 0xF80FEB00,	TKUCC_NMID_PSCHEQW,	TKUCC_FMID_REGREGREG},
{0x280AE000, 0xF80FEB00,	TKUCC_NMID_PSCHEQB,	TKUCC_FMID_REGREGREG},
{0x200BE000, 0xF80FEB00,	TKUCC_NMID_PSCHNEW,	TKUCC_FMID_REGREGREG},
{0x280BE000, 0xF80FEB00,	TKUCC_NMID_PSCHNEB,	TKUCC_FMID_REGREGREG},

{0x200CE000, 0xF80FEB00,	TKUCC_NMID_BLKUTX1,	TKUCC_FMID_REGREGREG},
{0x280CE000, 0xF80FEB00,	TKUCC_NMID_BLKUTX2,	TKUCC_FMID_REGREGREG},
{0x200DE000, 0xF80FEB00,	TKUCC_NMID_PADDH,	TKUCC_FMID_REGREGREG},
{0x280DE000, 0xF80FEB00,	TKUCC_NMID_PADDXD,	TKUCC_FMID_REGREGREG},
{0x200EE000, 0xF80FEB00,	TKUCC_NMID_PSUBH,	TKUCC_FMID_REGREGREG},
{0x280EE000, 0xF80FEB00,	TKUCC_NMID_PSUBXD,	TKUCC_FMID_REGREGREG},
{0x200FE000, 0xF80FEB00,	TKUCC_NMID_PMULH,	TKUCC_FMID_REGREGREG},
{0x280FE000, 0xF80FEB00,	TKUCC_NMID_PMULXD,	TKUCC_FMID_REGREGREG},

{0x3000E000, 0xFFFFEBFF,	TKUCC_NMID_NOP,		TKUCC_FMID_NONEB},
{0x3010E000, 0xFFFFEBFF,	TKUCC_NMID_RTS,		TKUCC_FMID_NONEB},
{0x3020E000, 0xFFFFEBFF,	TKUCC_NMID_SLEEP,	TKUCC_FMID_NONEB},
{0x3030E000, 0xFFFFEBFF,	TKUCC_NMID_BRK,		TKUCC_FMID_NONEB},

{0x3040E000, 0xFFFFEBFF,	TKUCC_NMID_CLRT,	TKUCC_FMID_NONEB},
{0x3050E000, 0xFFFFEBFF,	TKUCC_NMID_SETT,	TKUCC_FMID_NONEB},
{0x3060E000, 0xFFFFEBFF,	TKUCC_NMID_CLRS,	TKUCC_FMID_NONEB},
{0x3070E000, 0xFFFFEBFF,	TKUCC_NMID_SETS,	TKUCC_FMID_NONEB},
{0x3080E000, 0xFFFFEBFF,	TKUCC_NMID_NOTT,	TKUCC_FMID_NONEB},
{0x3090E000, 0xFFFFEBFF,	TKUCC_NMID_NOTS,	TKUCC_FMID_NONEB},

{0x30C0E000, 0xFFFFEBFF,	TKUCC_NMID_RTE,		TKUCC_FMID_NONEB},
{0x30F0E000, 0xFFFFEBFF,	TKUCC_NMID_LDTLB,	TKUCC_FMID_NONEB},

{0x30F0E000, 0xFFFFEBFF,	TKUCC_NMID_LDTLB,	TKUCC_FMID_NONEB},

{0x3010E002, 0xFFFFEBFF,	TKUCC_NMID_RTSU,	TKUCC_FMID_NONEB},
{0x3040E002, 0xFFFFEBFF,	TKUCC_NMID_LDACL,	TKUCC_FMID_NONEB},

{0x3000E010, 0xF80FEBFF,	TKUCC_NMID_BRA,		TKUCC_FMID_REGRON},
{0x3000E011, 0xF80FEBFF,	TKUCC_NMID_BSR,		TKUCC_FMID_REGRON},
{0x3000E012, 0xF80FEBFF,	TKUCC_NMID_BT,		TKUCC_FMID_REGRON},
{0x3000E013, 0xF80FEBFF,	TKUCC_NMID_BF,		TKUCC_FMID_REGRON},

{0x3000E020, 0xF80FEBFF,	TKUCC_NMID_JMP,		TKUCC_FMID_REGRON},
{0x3000E021, 0xF80FEBFF,	TKUCC_NMID_JSR,		TKUCC_FMID_REGRON},
{0x3000E022, 0xF80FEBFF,	TKUCC_NMID_BT,		TKUCC_FMID_REGRON},
{0x3000E023, 0xF80FEBFF,	TKUCC_NMID_BF,		TKUCC_FMID_REGRON},

{0x3000E033, 0xF80FEBFF,	TKUCC_NMID_MOVNT,	TKUCC_FMID_REGRON},
{0x3000E034, 0xF80FEBFF,	TKUCC_NMID_ROTL,	TKUCC_FMID_REGRON},
{0x3000E035, 0xF80FEBFF,	TKUCC_NMID_ROTR,	TKUCC_FMID_REGRON},

{0x3000E036, 0xF80FEBFF,	TKUCC_NMID_ROTCL,	TKUCC_FMID_REGRON},
{0x3000E037, 0xF80FEBFF,	TKUCC_NMID_ROTCR,	TKUCC_FMID_REGRON},

{0x3000E068, 0xF80FEBFF,	TKUCC_NMID_TRAPA,	TKUCC_FMID_REGRON},
{0x3000E069, 0xF80FEBFF,	TKUCC_NMID_WEXMD,	TKUCC_FMID_IMM5RON},
{0x3000E06A, 0xF80FEBFF,	TKUCC_NMID_CPUID,	TKUCC_FMID_IMM5RON},

{0x3000E06F, 0xF80FEBFF,	TKUCC_NMID_MOVT,	TKUCC_FMID_REGRON},

{0x3001E000, 0xF80FEB00,	TKUCC_NMID_MOVTT,	TKUCC_FMID_REGREGREG},
{0x3801E000, 0xF80FEB00,	TKUCC_NMID_MOVTT,	TKUCC_FMID_REGIMM5REG},

{0x3002E000, 0xF80FEB00,	TKUCC_NMID_ROTL,	TKUCC_FMID_REGREGREG},
{0x3802E000, 0xF80FEB00,	TKUCC_NMID_SHARX,	TKUCC_FMID_REGREGREG},
{0x3003E000, 0xF80FEB00,	TKUCC_NMID_ROTR,	TKUCC_FMID_REGREGREG},
{0x3803E000, 0xF80FEB00,	TKUCC_NMID_SHLRX,	TKUCC_FMID_REGREGREG},

{0x3004E000, 0xF80FEB00,	TKUCC_NMID_MULHSQ,	TKUCC_FMID_REGREGREG},
{0x3804E000, 0xF80FEB00,	TKUCC_NMID_SHADX,	TKUCC_FMID_REGREGREG},
{0x3005E000, 0xF80FEB00,	TKUCC_NMID_MULHUQ,	TKUCC_FMID_REGREGREG},
{0x3805E000, 0xF80FEB00,	TKUCC_NMID_SHLDX,	TKUCC_FMID_REGREGREG},
{0x3006E000, 0xF80FEB00,	TKUCC_NMID_ROTL,	TKUCC_FMID_REGREGREG},
{0x3806E000, 0xF80FEB00,	TKUCC_NMID_ROTLX,	TKUCC_FMID_REGREGREG},


{0x4000E000, 0xF80FEB00,	TKUCC_NMID_MOVX,	TKUCC_FMID_REGSTDISP5},
{0x4800E000, 0xF80FEB00,	TKUCC_NMID_LEATB,	TKUCC_FMID_REGLDDISP5},

{0x4001E000, 0xF80FEB00,	TKUCC_NMID_MOVC,	TKUCC_FMID_REGSTDISP5},
{0x4801E000, 0xF80FEB00,	TKUCC_NMID_LEATW,	TKUCC_FMID_REGLDDISP5},

{0x4002E000, 0xF80FEB00,	TKUCC_NMID_FMOVS,	TKUCC_FMID_REGSTRON},
{0x4802E000, 0xF80FEB00,	TKUCC_NMID_LEATL,	TKUCC_FMID_REGLDDISP5},

{0x4003E000, 0xF80FEB00,	TKUCC_NMID_FMOVH,	TKUCC_FMID_REGSTRON},
{0x4803E000, 0xF80FEB00,	TKUCC_NMID_LEATQ,	TKUCC_FMID_REGLDDISP5},

{0x4004E000, 0xF80FEB00,	TKUCC_NMID_MOVX,	TKUCC_FMID_REGSTRON},
{0x4804E000, 0xF80FEB00,	TKUCC_NMID_LEATB,	TKUCC_FMID_REGLDROM},

{0x4005E000, 0xF80FEB00,	TKUCC_NMID_MOVC,	TKUCC_FMID_REGSTRON},
{0x4805E000, 0xF80FEB00,	TKUCC_NMID_LEATW,	TKUCC_FMID_REGLDROM},

{0x4006E000, 0xF80FEB00,	TKUCC_NMID_FMOVS,	TKUCC_FMID_REGSTRON},
{0x4806E000, 0xF80FEB00,	TKUCC_NMID_LEATL,	TKUCC_FMID_REGLDROM},

{0x4007E000, 0xF80FEB00,	TKUCC_NMID_FMOVH,	TKUCC_FMID_REGSTRON},
{0x4807E000, 0xF80FEB00,	TKUCC_NMID_LEATQ,	TKUCC_FMID_REGLDROM},

{0x4008E000, 0xF80FEB00,	TKUCC_NMID_MOVX,	TKUCC_FMID_REGLDDISP5},

{0x4009E000, 0xF80FEB00,	TKUCC_NMID_MOVC,	TKUCC_FMID_REGLDDISP5},

{0x400AE000, 0xF80FEB00,	TKUCC_NMID_FMOVS,	TKUCC_FMID_REGLDDISP5},

{0x400BE000, 0xF80FEB00,	TKUCC_NMID_FMOVH,	TKUCC_FMID_REGLDDISP5},

{0x400CE000, 0xF80FEB00,	TKUCC_NMID_MOVX,	TKUCC_FMID_REGLDROM},
{0x480CE000, 0xF80FEB00,	TKUCC_NMID_FADDA,	TKUCC_FMID_REGREGREG},

{0x400DE000, 0xF80FEB00,	TKUCC_NMID_MOVC,	TKUCC_FMID_REGLDROM},
{0x480DE000, 0xF80FEB00,	TKUCC_NMID_FSUBA,	TKUCC_FMID_REGREGREG},

{0x400EE000, 0xF80FEB00,	TKUCC_NMID_FMOVS,	TKUCC_FMID_REGLDROM},
{0x480EE000, 0xF80FEB00,	TKUCC_NMID_FMULA,	TKUCC_FMID_REGREGREG},

{0x400FE000, 0xF80FEB00,	TKUCC_NMID_FMOVH,	TKUCC_FMID_REGLDROM},

{0x5000E000, 0xF80FEB00,	TKUCC_NMID_CSELT,	TKUCC_FMID_REGREGREG},
{0x5800E000, 0xF80FEB00,	TKUCC_NMID_NOP,		TKUCC_FMID_REGREGREG},
{0x5001E000, 0xF80FEB00,	TKUCC_NMID_PMULSW,	TKUCC_FMID_REGREGREG},
{0x5801E000, 0xF80FEB00,	TKUCC_NMID_PMULUW,	TKUCC_FMID_REGREGREG},
{0x5002E000, 0xF80FEB00,	TKUCC_NMID_MULSL,	TKUCC_FMID_REGREGREG},
{0x5802E000, 0xF80FEB00,	TKUCC_NMID_MULSQ,	TKUCC_FMID_REGREGREG},
{0x5003E000, 0xF80FEB00,	TKUCC_NMID_MULUL,	TKUCC_FMID_REGREGREG},
{0x5803E000, 0xF80FEB00,	TKUCC_NMID_MULUQ,	TKUCC_FMID_REGREGREG},
{0x5004E000, 0xF80FEB00,	TKUCC_NMID_SHAD,	TKUCC_FMID_REGREGREG},
{0x5804E000, 0xF80FEB00,	TKUCC_NMID_SHADQ,	TKUCC_FMID_REGREGREG},
{0x5005E000, 0xF80FEB00,	TKUCC_NMID_SHLD,	TKUCC_FMID_REGREGREG},
{0x5805E000, 0xF80FEB00,	TKUCC_NMID_SHLDQ,	TKUCC_FMID_REGREGREG},

{0x5006E000, 0xF80FEB00,	TKUCC_NMID_PMULSLW,	TKUCC_FMID_REGREGREG},
{0x5806E000, 0xF80FEB00,	TKUCC_NMID_PMULULW,	TKUCC_FMID_REGREGREG},
{0x5007E000, 0xF80FEB00,	TKUCC_NMID_PMULSHW,	TKUCC_FMID_REGREGREG},
{0x5807E000, 0xF80FEB00,	TKUCC_NMID_PMULUHW,	TKUCC_FMID_REGREGREG},

{0x5008E000, 0xF80FEB00,	TKUCC_NMID_FADD,	TKUCC_FMID_REGREGREG},
{0x5808E000, 0xF80FEB00,	TKUCC_NMID_FADDX,	TKUCC_FMID_REGREGREG},
{0x5009E000, 0xF80FEB00,	TKUCC_NMID_FSUB,	TKUCC_FMID_REGREGREG},
{0x5809E000, 0xF80FEB00,	TKUCC_NMID_FSUBX,	TKUCC_FMID_REGREGREG},
{0x500AE000, 0xF80FEB00,	TKUCC_NMID_FMUL,	TKUCC_FMID_REGREGREG},
{0x580AE000, 0xF80FEB00,	TKUCC_NMID_FMULX,	TKUCC_FMID_REGREGREG},
{0x500BE000, 0xF80FEB00,	TKUCC_NMID_FMAC,	TKUCC_FMID_REGREGREG},
{0x580BE000, 0xF80FEB00,	TKUCC_NMID_FMACX,	TKUCC_FMID_REGREGREG},
{0x500CE000, 0xF80FEB00,	TKUCC_NMID_ADDSL,	TKUCC_FMID_REGREGREG},
{0x580CE000, 0xF80FEB00,	TKUCC_NMID_ADDUL,	TKUCC_FMID_REGREGREG},
{0x500DE000, 0xF80FEB00,	TKUCC_NMID_SUBSL,	TKUCC_FMID_REGREGREG},
{0x580DE000, 0xF80FEB00,	TKUCC_NMID_SUBUL,	TKUCC_FMID_REGREGREG},
{0x500EE000, 0xF80FEB00,	TKUCC_NMID_MULSL,	TKUCC_FMID_REGREGREG},
{0x580EE000, 0xF80FEB00,	TKUCC_NMID_MULSL,	TKUCC_FMID_REGIMM5REG},
{0x500FE000, 0xF80FEB00,	TKUCC_NMID_MULUL,	TKUCC_FMID_REGREGREG},
{0x580FE000, 0xF80FEB00,	TKUCC_NMID_MULUL,	TKUCC_FMID_REGIMM5REG},

{0x6000E000, 0xF80FEB00,	TKUCC_NMID_MACSL,	TKUCC_FMID_REGREGREG},
{0x6800E000, 0xF80FEB00,	TKUCC_NMID_MACSL,	TKUCC_FMID_REGIMM5REG},
{0x6001E000, 0xF80FEB00,	TKUCC_NMID_MACSL,	TKUCC_FMID_REGREGREG},
{0x6801E000, 0xF80FEB00,	TKUCC_NMID_MACUL,	TKUCC_FMID_REGIMM5REG},
{0x6002E000, 0xF80FEB00,	TKUCC_NMID_DMACSL,	TKUCC_FMID_REGREGREG},
{0x6802E000, 0xF80FEB00,	TKUCC_NMID_DMACSL,	TKUCC_FMID_REGIMM5REG},
{0x6003E000, 0xF80FEB00,	TKUCC_NMID_DMACSL,	TKUCC_FMID_REGREGREG},
{0x6803E000, 0xF80FEB00,	TKUCC_NMID_DMACUL,	TKUCC_FMID_REGIMM5REG},
{0x6004E000, 0xF80FEB00,	TKUCC_NMID_DIVSQ,	TKUCC_FMID_REGREGREG},
{0x6804E000, 0xF80FEB00,	TKUCC_NMID_DIVUQ,	TKUCC_FMID_REGREGREG},
{0x6005E000, 0xF80FEB00,	TKUCC_NMID_MODSQ,	TKUCC_FMID_REGREGREG},
{0x6805E000, 0xF80FEB00,	TKUCC_NMID_MODUQ,	TKUCC_FMID_REGREGREG},

{0x6006E000, 0xF80FEB00,	TKUCC_NMID_FDIV,	TKUCC_FMID_REGREGREG},
{0x6806E000, 0xF80FEB00,	TKUCC_NMID_FDIVX,	TKUCC_FMID_REGREGREG},
// {0x6007E000, 0xF80FEB00,	TKUCC_NMID_FDIVA,	TKUCC_FMID_REGREGREG},
// {0x6807E000, 0xF80FEB00,	TKUCC_NMID_FDIVXA,	TKUCC_FMID_REGREGREG},

{0x6008E000, 0xF80FEB00,	TKUCC_NMID_BLKUTX2,		TKUCC_FMID_REGREGREG},
{0x6808E000, 0xF80FEB00,	TKUCC_NMID_BLKUTX3H,	TKUCC_FMID_REGREGREG},
// {0x6009E000, 0xF80FEB00,	TKUCC_NMID_BLERP,	TKUCC_FMID_REGREGREG},
{0x6809E000, 0xF80FEB00,	TKUCC_NMID_BLKUTX3L,	TKUCC_FMID_REGREGREG},

{0x600AE000, 0xF80FEB00,	TKUCC_NMID_BLINTW,	TKUCC_FMID_REGREGREG},
{0x680AE000, 0xF80FEB00,	TKUCC_NMID_BLINTAW,	TKUCC_FMID_REGREGREG},
{0x600BE000, 0xF80FEB00,	TKUCC_NMID_BITSEL,	TKUCC_FMID_REGREGREG},
{0x680BE000, 0xF80FEB00,	TKUCC_NMID_BITSELX,	TKUCC_FMID_REGREGREG},
{0x600CE000, 0xF80FEB00,	TKUCC_NMID_BLKUAB1,	TKUCC_FMID_REGREGREG},
{0x680CE000, 0xF80FEB00,	TKUCC_NMID_BLKUAB2,	TKUCC_FMID_REGREGREG},

{0x600DE000, 0xF80FEB00,	TKUCC_NMID_FADDG,	TKUCC_FMID_REGREGREG},
{0x680DE000, 0xF80FEB00,	TKUCC_NMID_FADD,	TKUCC_FMID_REGIMM5REG},
{0x600EE000, 0xF80FEB00,	TKUCC_NMID_FSUBG,	TKUCC_FMID_REGREGREG},
{0x680EE000, 0xF80FEB00,	TKUCC_NMID_FSUB,	TKUCC_FMID_REGIMM5REG},
{0x600FE000, 0xF80FEB00,	TKUCC_NMID_FMULG,	TKUCC_FMID_REGREGREG},
{0x680FE000, 0xF80FEB00,	TKUCC_NMID_FMUL,	TKUCC_FMID_REGIMM5REG},


{0x7004E000, 0xF80FEB00,	TKUCC_NMID_DIVSL,	TKUCC_FMID_REGREGREG},
{0x7804E000, 0xF80FEB00,	TKUCC_NMID_DIVUL,	TKUCC_FMID_REGREGREG},
{0x7005E000, 0xF80FEB00,	TKUCC_NMID_MODSL,	TKUCC_FMID_REGREGREG},
{0x7805E000, 0xF80FEB00,	TKUCC_NMID_MODUL,	TKUCC_FMID_REGREGREG},


{0xC000E000, 0xF000EB00,	TKUCC_NMID_BRA,		TKUCC_FMID_PCDISP20},
{0xD000E000, 0xF000EB00,	TKUCC_NMID_BSR,		TKUCC_FMID_PCDISP20},

{0xC000E000, 0xF000FF00,	TKUCC_NMID_BT,		TKUCC_FMID_PCDISP20},
{0xC000E400, 0xF000FF00,	TKUCC_NMID_BF,		TKUCC_FMID_PCDISP20},

{0x0000E100, 0xF800EB00,	TKUCC_NMID_MOVB,	TKUCC_FMID_REGSTDISP},
{0x0800E100, 0xF800EB00,	TKUCC_NMID_LEAB,	TKUCC_FMID_REGLDDISP},
{0x1000E100, 0xF800EB00,	TKUCC_NMID_MOVW,	TKUCC_FMID_REGSTDISP},
{0x1800E100, 0xF800EB00,	TKUCC_NMID_LEAW,	TKUCC_FMID_REGLDDISP},
{0x2000E100, 0xF800EB00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGSTDISP},
{0x2800E100, 0xF800EB00,	TKUCC_NMID_LEAL,	TKUCC_FMID_REGLDDISP},
{0x3000E100, 0xF800EB00,	TKUCC_NMID_MOVQ,	TKUCC_FMID_REGSTDISP},
{0x3800E100, 0xF800EB00,	TKUCC_NMID_LEAQ,	TKUCC_FMID_REGLDDISP},
{0x4000E100, 0xF800EB00,	TKUCC_NMID_FMOVS,	TKUCC_FMID_REGSTDISP},
{0x4800E100, 0xF800EB00,	TKUCC_NMID_FMOVH,	TKUCC_FMID_REGSTDISP},
{0x5000E100, 0xF800EB00,	TKUCC_NMID_MOVC,	TKUCC_FMID_REGSTDISP},
{0x5800E100, 0xF800EB00,	TKUCC_NMID_MOVX,	TKUCC_FMID_REGSTDISP},
{0x6000E100, 0xF800EB00,	TKUCC_NMID_FMOVS,	TKUCC_FMID_REGLDDISP},
{0x6800E100, 0xF800EB00,	TKUCC_NMID_FMOVH,	TKUCC_FMID_REGLDDISP},
{0x7000E100, 0xF800EB00,	TKUCC_NMID_MOVC,	TKUCC_FMID_REGLDDISP},
{0x7800E100, 0xF800EB00,	TKUCC_NMID_MOVX,	TKUCC_FMID_REGLDDISP},
{0x8000E100, 0xF800EB00,	TKUCC_NMID_MOVB,	TKUCC_FMID_REGLDDISP},
{0x8800E100, 0xF800EB00,	TKUCC_NMID_MOVUB,	TKUCC_FMID_REGLDDISP},
{0x9000E100, 0xF800EB00,	TKUCC_NMID_MOVW,	TKUCC_FMID_REGLDDISP},
{0x9800E100, 0xF800EB00,	TKUCC_NMID_MOVUW,	TKUCC_FMID_REGLDDISP},
{0xA000E100, 0xF800EB00,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGLDDISP},
{0xA800E100, 0xF800EB00,	TKUCC_NMID_MOVUL,	TKUCC_FMID_REGLDDISP},
{0xB000E100, 0xF800EB00,	TKUCC_NMID_MOVQ,	TKUCC_FMID_REGLDDISP},
// {0xB800E100, 0xF800EB00,	TKUCC_NMID_MOVUB,	TKUCC_FMID_REGLDDISP},

{0x0000E200, 0xF800EB00,	TKUCC_NMID_ADD,		TKUCC_FMID_REGIMMREG},
{0x1000E200, 0xF800EB00,	TKUCC_NMID_ADD,		TKUCC_FMID_REGIMMREG_N},

{0x2000E200, 0xF800EB00,	TKUCC_NMID_DMULS,	TKUCC_FMID_REGIMMREG},
{0x2800E200, 0xF800EB00,	TKUCC_NMID_DMULU,	TKUCC_FMID_REGIMMREG},

{0x3000E200, 0xF800EB00,	TKUCC_NMID_ADDSL,	TKUCC_FMID_REGIMMREG},
{0x3800E200, 0xF800EB00,	TKUCC_NMID_ADDUL,	TKUCC_FMID_REGIMMREG},
{0x4000E200, 0xF800EB00,	TKUCC_NMID_ADDSL,	TKUCC_FMID_REGIMMREG_N},
{0x4800E200, 0xF800EB00,	TKUCC_NMID_ADDUL,	TKUCC_FMID_REGIMMREG_N},

{0x5000E200, 0xF800EB00,	TKUCC_NMID_AND,		TKUCC_FMID_REGIMMREG},
{0x5800E200, 0xF800EB00,	TKUCC_NMID_RSUB,	TKUCC_FMID_REGIMMREG},

{0x6000E200, 0xF800EB00,	TKUCC_NMID_OR,		TKUCC_FMID_REGIMMREG},
{0x6800E200, 0xF800EB00,	TKUCC_NMID_SHADX,	TKUCC_FMID_REGIMMREG},
{0x7000E200, 0xF800EB00,	TKUCC_NMID_XOR,		TKUCC_FMID_REGIMMREG},
{0x7800E200, 0xF800EB00,	TKUCC_NMID_SHLDX,	TKUCC_FMID_REGIMMREG},

{0x8000E200, 0xF900EB00,	TKUCC_NMID_SHAD,	TKUCC_FMID_REGIMMREG_8S},
{0x8800E200, 0xF900EB00,	TKUCC_NMID_SHADQ,	TKUCC_FMID_REGIMMREG_8S},

{0x8100E200, 0xF900EB00,	TKUCC_NMID_PSHUFB,	TKUCC_FMID_REGIMMREG},
{0x8900E200, 0xF900EB00,	TKUCC_NMID_PSHUFW,	TKUCC_FMID_REGIMMREG},

{0x9000E200, 0xF900EB00,	TKUCC_NMID_SHLD,	TKUCC_FMID_REGIMMREG_8S},
{0x9800E200, 0xF900EB00,	TKUCC_NMID_SHLDQ,	TKUCC_FMID_REGIMMREG_8S},

{0xC000E200, 0xF000EB0F,	TKUCC_NMID_LDIZ,	TKUCC_FMID_REGIMM_10},
{0xC000E201, 0xF000EB0F,	TKUCC_NMID_LDIN,	TKUCC_FMID_REGIMM_10_N},

{0xC000E202, 0xF800EB0F,	TKUCC_NMID_LDSH8,	TKUCC_FMID_REGIMM_10},

{0xC000E203, 0xF800EB0F,	TKUCC_NMID_LDIHI,	TKUCC_FMID_REGIMM_10},
{0xC800E203, 0xF800EB0F,	TKUCC_NMID_LDIHIQ,	TKUCC_FMID_REGIMM_10},

{0xC000E204, 0xF800EB0F,	TKUCC_NMID_TST,		TKUCC_FMID_REGIMM_10},
{0xC800E204, 0xF800EB0F,	TKUCC_NMID_TSTQ,	TKUCC_FMID_REGIMM_10},
{0xC000E205, 0xF800EB0F,	TKUCC_NMID_TST,		TKUCC_FMID_REGIMM_10_N},
{0xC800E205, 0xF800EB0F,	TKUCC_NMID_TSTQ,	TKUCC_FMID_REGIMM_10_N},

{0xC000E206, 0xF800EB0F,	TKUCC_NMID_CMPHS,	TKUCC_FMID_REGIMM_10},
{0xC800E206, 0xF800EB0F,	TKUCC_NMID_CMPQHS,	TKUCC_FMID_REGIMM_10},
{0xC000E207, 0xF800EB0F,	TKUCC_NMID_CMPHS,	TKUCC_FMID_REGIMM_10_N},
{0xC800E207, 0xF800EB0F,	TKUCC_NMID_CMPQHS,	TKUCC_FMID_REGIMM_10_N},

{0xC000E208, 0xF800EB0F,	TKUCC_NMID_CMPHI,	TKUCC_FMID_REGIMM_10},
{0xC800E208, 0xF800EB0F,	TKUCC_NMID_CMPQHI,	TKUCC_FMID_REGIMM_10},
{0xC000E209, 0xF800EB0F,	TKUCC_NMID_CMPHI,	TKUCC_FMID_REGIMM_10_N},
{0xC800E209, 0xF800EB0F,	TKUCC_NMID_CMPQHI,	TKUCC_FMID_REGIMM_10_N},

{0xC000E20A, 0xF800EB0F,	TKUCC_NMID_CMPGE,	TKUCC_FMID_REGIMM_10},
{0xC800E20A, 0xF800EB0F,	TKUCC_NMID_CMPQGE,	TKUCC_FMID_REGIMM_10},
{0xC000E20B, 0xF800EB0F,	TKUCC_NMID_CMPGE,	TKUCC_FMID_REGIMM_10_N},
{0xC800E20B, 0xF800EB0F,	TKUCC_NMID_CMPQGE,	TKUCC_FMID_REGIMM_10_N},

{0xC000E20C, 0xF800EB0F,	TKUCC_NMID_CMPEQ,	TKUCC_FMID_REGIMM_10},
{0xC800E20C, 0xF800EB0F,	TKUCC_NMID_CMPQEQ,	TKUCC_FMID_REGIMM_10},
{0xC000E20D, 0xF800EB0F,	TKUCC_NMID_CMPEQ,	TKUCC_FMID_REGIMM_10_N},
{0xC800E20D, 0xF800EB0F,	TKUCC_NMID_CMPQEQ,	TKUCC_FMID_REGIMM_10_N},

{0xC000E20E, 0xF800EB0F,	TKUCC_NMID_CMPGT,	TKUCC_FMID_REGIMM_10},
{0xC800E20E, 0xF800EB0F,	TKUCC_NMID_CMPQGT,	TKUCC_FMID_REGIMM_10},
{0xC000E20F, 0xF800EB0F,	TKUCC_NMID_CMPGT,	TKUCC_FMID_REGIMM_10_N},
{0xC800E20F, 0xF800EB0F,	TKUCC_NMID_CMPQGT,	TKUCC_FMID_REGIMM_10_N},


{0xD000E200, 0xF800EB0F,	TKUCC_NMID_ADD,		TKUCC_FMID_REGIMM_10},
{0xD000E201, 0xF800EB0F,	TKUCC_NMID_ADD,		TKUCC_FMID_REGIMM_10_N},
{0xD000E202, 0xF800EB0F,	TKUCC_NMID_MULSW,	TKUCC_FMID_REGIMM_10},
{0xD800E202, 0xF800EB0F,	TKUCC_NMID_MULUW,	TKUCC_FMID_REGIMM_10},
{0xD000E203, 0xF800EB0F,	TKUCC_NMID_MULSW,	TKUCC_FMID_REGIMM_10_N},
{0xD800E203, 0xF800EB0F,	TKUCC_NMID_MULUW,	TKUCC_FMID_REGIMM_10_N},

{0xD000E206, 0xFB00EB0F,	TKUCC_NMID_BREQL,	TKUCC_FMID_PCDISP8REG},
{0xD800E206, 0xFB00EB0F,	TKUCC_NMID_BREQ,	TKUCC_FMID_PCDISP8REG},
{0xD100E206, 0xFB00EB0F,	TKUCC_NMID_BRNEL,	TKUCC_FMID_PCDISP8REG},
{0xD900E206, 0xFB00EB0F,	TKUCC_NMID_BRNE,	TKUCC_FMID_PCDISP8REG},

{0xD200E206, 0xFB00EB0F,	TKUCC_NMID_BRLEL,	TKUCC_FMID_PCDISP8REG},
{0xDA00E206, 0xFB00EB0F,	TKUCC_NMID_BRLE,	TKUCC_FMID_PCDISP8REG},
{0xD300E206, 0xFB00EB0F,	TKUCC_NMID_BRGTL,	TKUCC_FMID_PCDISP8REG},
{0xDB00E206, 0xFB00EB0F,	TKUCC_NMID_BRGT,	TKUCC_FMID_PCDISP8REG},

{0xD000E207, 0xFB00EB0F,	TKUCC_NMID_BRLTL,	TKUCC_FMID_PCDISP8REG},
{0xD800E207, 0xFB00EB0F,	TKUCC_NMID_BRLT,	TKUCC_FMID_PCDISP8REG},
{0xD100E207, 0xFB00EB0F,	TKUCC_NMID_BRGEL,	TKUCC_FMID_PCDISP8REG},
{0xD900E207, 0xFB00EB0F,	TKUCC_NMID_BRGE,	TKUCC_FMID_PCDISP8REG},

{0xD000E208, 0xF800EB0F,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGSTGBRDISP10},
{0xD800E208, 0xF800EB0F,	TKUCC_NMID_MOVUL,	TKUCC_FMID_REGSTGBRDISP10},
{0xD000E209, 0xF800EB0F,	TKUCC_NMID_MOVQ,	TKUCC_FMID_REGSTGBRDISP10},
{0xD800E209, 0xF800EB0F,	TKUCC_NMID_MOVX,	TKUCC_FMID_REGSTGBRDISP10},

{0xD000E20A, 0xF800EB0F,	TKUCC_NMID_MOVL,	TKUCC_FMID_REGLDGBRDISP10},
{0xD800E20A, 0xF800EB0F,	TKUCC_NMID_MOVUL,	TKUCC_FMID_REGLDGBRDISP10},
{0xD000E20B, 0xF800EB0F,	TKUCC_NMID_MOVQ,	TKUCC_FMID_REGLDGBRDISP10},
{0xD800E20B, 0xF800EB0F,	TKUCC_NMID_MOVX,	TKUCC_FMID_REGLDGBRDISP10},

{0xE000E200, 0xF800EB0F,	TKUCC_NMID_LEATB,	TKUCC_FMID_REGLDGBRDISP10},
{0xE800E200, 0xF800EB0F,	TKUCC_NMID_XLEAB,	TKUCC_FMID_REGLDGBRDISP10},
{0xE000E201, 0xF800EB0F,	TKUCC_NMID_LEATB,	TKUCC_FMID_REGLDGBRDISP10N},
{0xE800E201, 0xF800EB0F,	TKUCC_NMID_XLEAB,	TKUCC_FMID_REGLDGBRDISP10N},


{0x0000E88F, 0x0000EBFF,	TKUCC_NMID_BRK,		TKUCC_FMID_REGIMM16_U},

{0x0000E800, 0x0000EBE0,	TKUCC_NMID_LDIZ,	TKUCC_FMID_REGIMM16_U},
{0x0000E820, 0x0000EBE0,	TKUCC_NMID_LDIN,	TKUCC_FMID_REGIMM16_N},
{0x0000E840, 0x0000EBE0,	TKUCC_NMID_ADD,		TKUCC_FMID_REGIMM16S},
{0x0000E860, 0x0000EBE0,	TKUCC_NMID_LDSH16,	TKUCC_FMID_REGIMM16_U},
{0x0000E880, 0x0000EBE0,	TKUCC_NMID_FLDCH,	TKUCC_FMID_REGIMM16_U},

{0x0000FA00, 0x0000FF00,	TKUCC_NMID_LDIZ,	TKUCC_FMID_IMM24_U},
{0x0000FB00, 0x0000FF00,	TKUCC_NMID_LDIN,	TKUCC_FMID_IMM24_N},
{0x0000FE00, 0x0000FF00,	TKUCC_NMID_JIMM,	TKUCC_FMID_IMM24_U},
{0x0000FF00, 0x0000FF00,	TKUCC_NMID_JOP64,	TKUCC_FMID_IMM24_U},

{0x0000E800, 0x0000EBE0,	TKUCC_NMID_JLDI,	TKUCC_FMID_REGIMM_J64},

{0, 0, 0, 0}
};

short tkucc_jx2_opcnt;
short tkucc_jx2_opchn[1024];
short tkucc_jx2_ophash[64];

int TKUCC_AsmInitTables()
{
	int i, j, k, l;
	
	if(tkucc_jx2_opcnt)
		return(0);
	
	for(i=0; i<64; i++)
	{
		tkucc_jx2_ophash[i]=-1;
	}
	
	for(i=0; i<1024; i++)
	{
		if(tkucc_jx2_optab[i].opm==0)
			break;
	}
	l=i;
	tkucc_jx2_opcnt=i;

	for(i=l-1; i>=0; i--)
	{
		j=tkucc_jx2_optab[i].nmid;
		j=(((j*251+j)*251)>>8)&63;
		tkucc_jx2_opchn[i]=tkucc_jx2_ophash[j];
		tkucc_jx2_ophash[j]=i;
	}
	
	return(1);
}

int TKUCC_AsmCheckRegLow16(TKUCC_MainContext *ctx, int reg)
{
	if(reg<0)
		return(0);
	if(reg>=16)
	{
		return(0);
	}
	return(1);
}

int TKUCC_AsmCheckRegLow16K(TKUCC_MainContext *ctx, int reg)
{
	if(reg<16)
		return(0);
	if(reg>=32)
		return(0);
	return(1);
}

int TKUCC_AsmCheckRegLow32(TKUCC_MainContext *ctx, int reg)
{
	if(reg<0)
		return(0);
	if(reg>=32)
		return(0);
	return(1);
}

int TKUCC_AsmCheckRegGpr32(TKUCC_MainContext *ctx, int reg)
{
	if(reg<0)
		return(0);
	if(reg>=32)
		return(0);
	return(1);
}

int TKUCC_AsmCheckRegGpr64(TKUCC_MainContext *ctx, int reg)
{
	if(reg<0)
		return(0);
	if(reg>=64)
		return(0);
	return(1);
}

int TKUCC_AsmCheckRegGpr32BI(TKUCC_MainContext *ctx, int rb, int ri)
{
	if(!TKUCC_AsmCheckRegGpr32(ctx, rb))
		return(0);
	if(!TKUCC_AsmCheckRegGpr32(ctx, ri))
		return(0);
//	if(rb<2)
//		return(0);
//	if((ri<2) && (ri!=TKUCC_REG_R0))
//		return(0);
	return(1);
}

int TKUCC_AsmCheckRegIsSp(TKUCC_MainContext *ctx, int reg)
{
	if(reg!=TKUCC_REG_R15)
		return(0);
	return(1);
}

int TKUCC_AsmCheckRemapCreg(TKUCC_MainContext *ctx, int reg)
{
	int rt;

	rt=-1;

	switch(reg)
	{
	case TKUCC_REG_PC:		rt=TKUCC_REG_R0; break;
	case TKUCC_REG_LR:		rt=TKUCC_REG_R1; break;
	case TKUCC_REG_SR:		rt=TKUCC_REG_R2; break;
	case TKUCC_REG_VBR:		rt=TKUCC_REG_R3; break;
	case TKUCC_REG_SPC:		rt=TKUCC_REG_R4; break;
	case TKUCC_REG_SSP:		rt=TKUCC_REG_R5; break;
	case TKUCC_REG_GBR:		rt=TKUCC_REG_R6; break;
	case TKUCC_REG_TBR:		rt=TKUCC_REG_R7; break;
	case TKUCC_REG_TTB:		rt=TKUCC_REG_R8; break;
	case TKUCC_REG_TEA:		rt=TKUCC_REG_R9; break;
	case TKUCC_REG_MMCR:	rt=TKUCC_REG_R10; break;
	case TKUCC_REG_EXSR:	rt=TKUCC_REG_R11; break;
	case TKUCC_REG_STTB:	rt=TKUCC_REG_R12; break;
	case TKUCC_REG_KRR:		rt=TKUCC_REG_R13; break;
	}

	return(rt);
}

int TKUCC_AsmGetDispScale(TKUCC_MainContext *ctx,
	int nmid, int rb)
{
	int sc;
	
	sc=0;
	switch(nmid)
	{
	case TKUCC_NMID_MOVB:
	case TKUCC_NMID_MOVUB:
	case TKUCC_NMID_LEAB:
	case TKUCC_NMID_LEATB:
		sc=0;
		break;
	case TKUCC_NMID_MOVW:
	case TKUCC_NMID_MOVUW:
	case TKUCC_NMID_LEAW:
	case TKUCC_NMID_LEATW:
		sc=1;
		break;
	case TKUCC_NMID_MOVL:
	case TKUCC_NMID_MOVUL:
	case TKUCC_NMID_LEAL:
	case TKUCC_NMID_LEATL:
		sc=2;
		break;
	case TKUCC_NMID_MOVQ:
	case TKUCC_NMID_LEAQ:
	case TKUCC_NMID_LEATQ:
		sc=3;
		break;
	case TKUCC_NMID_MOVX:
		sc=3;
		break;
	}
	
	return(sc);
}

int TKUCC_AsmCheckDispBits(TKUCC_MainContext *ctx,
	int nmid, int rb, s64 disp, int bits)
{
	int sc;
	
	sc=0;
	switch(nmid)
	{
	case TKUCC_NMID_MOVB:
	case TKUCC_NMID_MOVUB:
	case TKUCC_NMID_LEAB:
	case TKUCC_NMID_LEATB:
		sc=0;
		break;
	case TKUCC_NMID_MOVW:
	case TKUCC_NMID_MOVUW:
	case TKUCC_NMID_LEAW:
	case TKUCC_NMID_LEATW:
		sc=1;
		break;
	case TKUCC_NMID_MOVL:
	case TKUCC_NMID_MOVUL:
	case TKUCC_NMID_LEAL:
	case TKUCC_NMID_LEATL:
		sc=2;
		break;
	case TKUCC_NMID_MOVQ:
	case TKUCC_NMID_LEAQ:
	case TKUCC_NMID_LEATQ:
		sc=3;
		break;
	}

	if(disp&((1<<sc)-1))
		return(0);

	if((disp&(((1<<bits)-1)<<sc))!=disp)
		return(0);

//	if(reg!=15)
//		return(0);
	return(1);
}

int TKUCC_AsmCheckOpFmid(TKUCC_MainContext *ctx,
	TKUCC_AsmOp *op, int fmid)
{
	int rt, no16p;

	no16p=0;
	if(op->pred)
		no16p=1;

	rt=0;
	switch(fmid)
	{
	case TKUCC_FMID_REGREG4:
		if(no16p)
			break;
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_REG)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegLow16(ctx, op->arg[0]->rb))
			break;
		if(!TKUCC_AsmCheckRegLow16(ctx, op->arg[1]->rb))
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGST4:
		if(no16p)
			break;
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_REG)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_MEM_R)
			break;
		if(!TKUCC_AsmCheckRegLow16(ctx, op->arg[0]->rb))
			break;
		if(!TKUCC_AsmCheckRegLow16(ctx, op->arg[1]->rb))
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGLD4:
		if(no16p)
			break;
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_MEM_R)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegLow16(ctx, op->arg[0]->rb))
			break;
		if(!TKUCC_AsmCheckRegLow16(ctx, op->arg[1]->rb))
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGSTR0N:
		if(no16p)
			break;
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_REG)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_MEM_RI)
			break;
		if(!TKUCC_AsmCheckRegLow16(ctx, op->arg[0]->rb))
			break;
		if(!TKUCC_AsmCheckRegLow16(ctx, op->arg[1]->rb))
			break;
		if(op->arg[1]->ri!=TKUCC_REG_R0)
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGLDR0M:
		if(no16p)
			break;
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_MEM_RI)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegLow16(ctx, op->arg[0]->rb))
			break;
		if(!TKUCC_AsmCheckRegLow16(ctx, op->arg[1]->rb))
			break;
		if(op->arg[0]->ri!=TKUCC_REG_R0)
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_PCDISP8:
		if(no16p)
			break;
		if(op->n_arg!=1)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_LABEL)
			break;
		/* Not enabled for now. */
		break;

	case TKUCC_FMID_IMM8:
		if(no16p)
			break;
		if(op->n_arg!=1)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_IMM)
			break;
		if(op->arg[0]->imm!=(op->arg[0]->imm&0xFF))
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_IMM12A_U:
		if(no16p)
			break;
		if((op->n_arg!=1) && (op->n_arg!=2))
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_IMM)
			break;
		if(op->n_arg==2)
		{
			if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
				break;
			if(	(op->arg[1]->rb!=TKUCC_REG_R0) &&
				(op->arg[1]->rb!=TKUCC_REG_DLR))
					break;
		}
		if(op->arg[0]->imm!=(op->arg[0]->imm&0xFFF))
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_IMM12A_N:
		if(no16p)
			break;
		if((op->n_arg!=1) && (op->n_arg!=2))
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_IMM)
			break;
		if(op->n_arg==2)
		{
			if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
				break;
			if(	(op->arg[1]->rb!=TKUCC_REG_R0) &&
				(op->arg[1]->rb!=TKUCC_REG_DLR))
					break;
		}
		if(op->arg[0]->imm!=(op->arg[0]->imm|(~0xFFF)))
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGREG55A:
		if(no16p)
			break;
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_REG)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegLow32(ctx, op->arg[0]->rb))
			break;
		if(!TKUCC_AsmCheckRegLow32(ctx, op->arg[1]->rb))
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGRN4:
		if(no16p)
			break;
		if(op->n_arg!=1)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegLow16(ctx, op->arg[0]->rb))
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_IMM5RN4:
		if(no16p)
			break;
		if(op->n_arg!=1)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_IMM)
			break;
		if((op->arg[0]->imm&31)!=op->arg[0]->imm)
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_NONE:
		if(no16p)
			break;
		if(op->n_arg!=0)
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_NONEB:
		if(op->n_arg!=0)
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGSTSPVIMM4:
		if(no16p)
			break;
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_REG)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_MEM_RD)
			break;
		if(!TKUCC_AsmCheckRegLow16(ctx, op->arg[0]->rb))
			break;
		if(!TKUCC_AsmCheckRegIsSp(ctx, op->arg[1]->rb))
			break;
		if(!TKUCC_AsmCheckDispBits(ctx, op->nmid,
			op->arg[1]->rb, op->arg[1]->imm, 4))
				break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGLDSPVIMM4:
		if(no16p)
			break;
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_MEM_RD)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegLow16(ctx, op->arg[0]->rb))
			break;
		if(!TKUCC_AsmCheckRegIsSp(ctx, op->arg[1]->rb))
			break;
		if(!TKUCC_AsmCheckDispBits(ctx, op->nmid,
			op->arg[0]->rb, op->arg[0]->imm, 4))
				break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGVIMM4:
		if(no16p)
			break;
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_IMM)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegLow16(ctx, op->arg[1]->rb))
			break;
		if((op->arg[0]->imm&15)!=op->arg[0]->imm)
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGVIMM4_N:
		if(no16p)
			break;
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_IMM)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegLow16(ctx, op->arg[1]->rb))
			break;
		if((op->arg[0]->imm|(~15LL))!=op->arg[0]->imm)
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGR0REG4:
		if(no16p)
			break;
		if(op->n_arg!=3)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_REG)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
			break;
		if(op->arg[2]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegLow16(ctx, op->arg[0]->rb))
			break;
		if(!TKUCC_AsmCheckRegLow16(ctx, op->arg[2]->rb))
			break;
		if(op->arg[1]->rb!=TKUCC_REG_R0)
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGIMM8S:
		if(no16p)
			break;
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_IMM)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegLow16(ctx, op->arg[1]->rb))
			break;
		if(((sbyte)(op->arg[0]->imm))!=op->arg[0]->imm)
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGSTDISP3:
		if(no16p)
			break;
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_REG)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_MEM_RD)
			break;
		if(!TKUCC_AsmCheckRegLow16(ctx, op->arg[0]->rb))
			break;
		if(!TKUCC_AsmCheckRegLow16(ctx, op->arg[1]->rb))
			break;
		if(!TKUCC_AsmCheckDispBits(ctx, op->nmid,
			op->arg[1]->rb, op->arg[1]->imm, 3))
				break;
		if(op->arg[1]->imm==0)
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGLDDISP3:
		if(no16p)
			break;
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_MEM_RD)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegLow16(ctx, op->arg[0]->rb))
			break;
		if(!TKUCC_AsmCheckRegLow16(ctx, op->arg[1]->rb))
			break;
		if(!TKUCC_AsmCheckDispBits(ctx, op->nmid,
			op->arg[0]->rb, op->arg[0]->imm, 3))
				break;
		if(op->arg[0]->imm==0)
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGKVIMM4_U:
		if(no16p)
			break;
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_IMM)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegLow16K(ctx, op->arg[1]->rb))
			break;
		if((op->arg[0]->imm&15)!=op->arg[0]->imm)
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGKVIMM4_N:
		if(no16p)
			break;
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_IMM)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegLow16K(ctx, op->arg[1]->rb))
			break;
		if((op->arg[0]->imm|(~15LL))!=op->arg[0]->imm)
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGSTDISP5:
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_REG)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_MEM_RD)
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[0]->rb))
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[1]->rb))
			break;
		if(!TKUCC_AsmCheckDispBits(ctx, op->nmid,
			op->arg[1]->rb, op->arg[1]->imm, 5))
				break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGLDDISP5:
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_MEM_RD)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[0]->rb))
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[1]->rb))
			break;
		if(!TKUCC_AsmCheckDispBits(ctx, op->nmid,
			op->arg[0]->rb, op->arg[0]->imm, 5))
				break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGSTRON:
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_REG)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_MEM_RI)
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[0]->rb))
			break;
		if(!TKUCC_AsmCheckRegGpr32BI(ctx, op->arg[1]->rb, op->arg[1]->ri))
			break;
		rt=fmid;
		break;
	case TKUCC_FMID_REGLDROM:
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_MEM_RI)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegGpr32BI(ctx, op->arg[0]->rb, op->arg[0]->ri))
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[1]->rb))
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGREGREG:
		if(op->n_arg!=3)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_REG)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
			break;
		if(op->arg[2]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[0]->rb))
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[1]->rb))
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[2]->rb))
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGREGB:
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_REG)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[0]->rb))
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[1]->rb))
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGRON:
		if(op->n_arg!=1)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[0]->rb))
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_IMM5RON:
		if(op->n_arg!=1)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_IMM)
			break;
		if((op->arg[1]->imm&31)!=op->arg[1]->imm)
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGIMM5REG:
		if(op->n_arg!=3)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_REG)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_IMM)
			break;
		if(op->arg[2]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[0]->rb))
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[2]->rb))
			break;
		if((op->arg[1]->imm&31)!=op->arg[1]->imm)
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGSTDISP:
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[0]->rb))
			break;
		if(	(op->arg[1]->aty==TKUCC_ARGTY_MEM_RD) ||
			(op->arg[1]->aty==TKUCC_ARGTY_MEM_R))
		{
			if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[1]->rb))
				break;
			if(!TKUCC_AsmCheckDispBits(ctx, op->nmid,
				op->arg[1]->rb, op->arg[1]->imm, 9))
			{
				rt=TKUCC_FMID_REGSTDISP_J33;
				break;
			}
			rt=fmid;
			break;
		}
		if(op->arg[1]->aty==TKUCC_ARGTY_LABEL)
		{
			rt=TKUCC_FMID_REGSTDISP_GBLJ33;
			break;
		}
		break;

	case TKUCC_FMID_REGLDDISP:
		if(op->n_arg!=2)
			break;
//		if(op->arg[0]->aty!=TKUCC_ARGTY_MEM_RD)
//			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[1]->rb))
			break;
		if(	(op->arg[0]->aty==TKUCC_ARGTY_MEM_RD) ||
			(op->arg[0]->aty==TKUCC_ARGTY_MEM_R))
		{
			if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[0]->rb))
				break;
			if(!TKUCC_AsmCheckDispBits(ctx, op->nmid,
				op->arg[0]->rb, op->arg[0]->imm, 9))
			{
				rt=TKUCC_FMID_REGLDDISP_J33;
				break;
			}
			rt=fmid;
			break;
		}
		if(op->arg[0]->aty==TKUCC_ARGTY_LABEL)
		{
			rt=TKUCC_FMID_REGLDDISP_GBLJ33;
			break;
		}
		break;

	case TKUCC_FMID_PCDISP20:
		if(op->n_arg!=1)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_LABEL)
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGIMMREG:
		if(op->n_arg!=3)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_REG)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_IMM)
			break;
		if(op->arg[2]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[0]->rb))
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[2]->rb))
			break;
		if((op->arg[1]->imm&511)!=op->arg[1]->imm)
		{
			if(	(((u32)op->arg[1]->imm)==op->arg[1]->imm) ||
				(((s32)op->arg[1]->imm)==op->arg[1]->imm))
			{
				rt=TKUCC_FMID_REGIMMREG_J33;
				break;
			}
			break;
		}
		rt=fmid;
		break;

	case TKUCC_FMID_REGIMMREG_N:
		if(op->n_arg!=3)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_REG)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_IMM)
			break;
		if(op->arg[2]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[0]->rb))
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[2]->rb))
			break;
		if((op->arg[1]->imm|(~511LL))!=op->arg[1]->imm)
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGIMMREG_8S:
		if(op->n_arg!=3)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_REG)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_IMM)
			break;
		if(op->arg[2]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[0]->rb))
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[2]->rb))
			break;
		if(((sbyte)(op->arg[1]->imm))!=op->arg[1]->imm)
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGIMM_10:
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_IMM)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[1]->rb))
			break;
		if(((op->arg[0]->imm)&1023)!=op->arg[0]->imm)
		{
			if(((s32)(op->arg[0]->imm))==op->arg[0]->imm)
				rt=TKUCC_FMID_REGIMM_10_J33;
			if(((u32)(op->arg[0]->imm))==op->arg[0]->imm)
				rt=TKUCC_FMID_REGIMM_10_J33;
			break;
		}
		rt=fmid;
		break;

	case TKUCC_FMID_REGIMM_10_N:
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_IMM)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[1]->rb))
			break;
		if(((op->arg[0]->imm)|(~1023LL))!=op->arg[0]->imm)
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGIMM16_U:
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_IMM)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[1]->rb))
			break;
		if(((op->arg[0]->imm)&65535)!=op->arg[0]->imm)
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGIMM16_N:
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_IMM)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[1]->rb))
			break;
		if(((op->arg[0]->imm)|(~65535LL))!=op->arg[0]->imm)
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGIMM16S:
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_IMM)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegGpr32(ctx, op->arg[1]->rb))
			break;
		if(((s16)(op->arg[0]->imm))!=op->arg[0]->imm)
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_IMM24_U:
		if((op->n_arg!=1) && (op->n_arg!=2))
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_IMM)
			break;
		if(op->n_arg==2)
		{
			if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
				break;
			if(	(op->arg[1]->rb!=TKUCC_REG_R0) &&
				(op->arg[1]->rb!=TKUCC_REG_DLR))
					break;
		}
		if(op->arg[0]->imm!=(op->arg[0]->imm&0xFFFFFF))
			break;
		rt=fmid;
		break;
	case TKUCC_FMID_IMM24_N:
		if((op->n_arg!=1) && (op->n_arg!=2))
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_IMM)
			break;
		if(op->n_arg==2)
		{
			if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
				break;
			if(	(op->arg[1]->rb!=TKUCC_REG_R0) &&
				(op->arg[1]->rb!=TKUCC_REG_DLR))
					break;
		}
		if(op->arg[0]->imm!=(op->arg[0]->imm|(~0xFFFFFF)))
			break;
		rt=fmid;
		break;

	case TKUCC_FMID_REGIMM_J64:
		if(op->n_arg!=2)
			break;
		if(op->arg[0]->aty!=TKUCC_ARGTY_IMM)
			break;
		if(op->arg[1]->aty!=TKUCC_ARGTY_REG)
			break;
		if(!TKUCC_AsmCheckRegGpr64(ctx, op->arg[1]->rb))
			break;
		rt=fmid;
		break;


	default:
		printf("TKUCC_AsmCheckOpFmid: Unhandled FMID %X\n", fmid);
		break;
	}
	return(rt);
}

int TKUCC_AsmLookupOpEnodeIdx(TKUCC_MainContext *ctx,
	TKUCC_AsmOp *op)
{
	int nmid;
	int i, j, k;

	TKUCC_AsmInitTables();

	nmid=op->nmid;
	j=nmid;
	j=(((j*251+j)*251)>>8)&63;
	i=tkucc_jx2_ophash[j];
	while(i>=0)
	{
		if(tkucc_jx2_optab[i].nmid==nmid)
		{
			j=TKUCC_AsmCheckOpFmid(ctx, op, tkucc_jx2_optab[i].fmid);
			if(j>0)
				return(i);
		}
		i=tkucc_jx2_opchn[i];
	}
	return(-1);
}

int TKUCC_AsmCheckRemapVirtualOpArg(TKUCC_MainContext *ctx,
	TKUCC_AsmOp *op, TKUCC_AsmOpArg *opv)
{
	if(!opv)
		return(0);

	if(opv->aty==TKUCC_ARGTY_REG)
	{
		if(opv->rb==TKUCC_REG_DLR)
			opv->rb=TKUCC_REG_R0;
		if(opv->rb==TKUCC_REG_DHR)
			opv->rb=TKUCC_REG_R1;
		if(opv->rb==TKUCC_REG_SP)
			opv->rb=TKUCC_REG_R15;
		return(1);
	}

	if(	(opv->aty==TKUCC_ARGTY_MEM_R) ||
		(opv->aty==TKUCC_ARGTY_MEM_RD) ||
		(opv->aty==TKUCC_ARGTY_MEM_RI))
	{
		if(opv->rb==TKUCC_REG_SP)
			opv->rb=TKUCC_REG_R15;
		if(opv->rb==TKUCC_REG_PC)
			opv->rb=TKUCC_REG_R0;
		if(opv->rb==TKUCC_REG_GBR)
			opv->rb=TKUCC_REG_R1;
	}

	if(opv->aty==TKUCC_ARGTY_LABEL)
	{
		if(opv->name && !opv->lbl)
			opv->lbl=TKUCC_AsmGetNamedLabel(ctx, opv->name);
	}

	return(0);
}

int TKUCC_AsmCheckRemapVirtualOp(TKUCC_MainContext *ctx,
	TKUCC_AsmOp *op)
{
	int cm, cn;

	TKUCC_AsmCheckRemapVirtualOpArg(ctx, op, op->arg[0]);
	TKUCC_AsmCheckRemapVirtualOpArg(ctx, op, op->arg[1]);
	TKUCC_AsmCheckRemapVirtualOpArg(ctx, op, op->arg[2]);
	TKUCC_AsmCheckRemapVirtualOpArg(ctx, op, op->arg[3]);

	if(op->nmid==TKUCC_NMID_WEXMD)
	{
		if(op->n_arg==0)
		{
			op->arg[0]=&op->t_arg[0];
			op->arg[0]->aty=TKUCC_ARGTY_IMM;
			op->arg[0]->imm=ctx->wexmd_dfl;

			op->n_arg=1;
			
			return(1);
		}
		return(0);
	}

	if(op->nmid==TKUCC_NMID_MOV)
	{
		if(op->n_arg==2)
		{
			cm=TKUCC_AsmCheckRemapCreg(ctx, op->arg[0]->rb);
			cn=TKUCC_AsmCheckRemapCreg(ctx, op->arg[1]->rb);

			if(	(op->arg[0]->aty==TKUCC_ARGTY_REG) &&
				(op->arg[1]->aty==TKUCC_ARGTY_REG))
			{
				if(cm>=TKUCC_REG_R0)
				{
					op->nmid=TKUCC_NMID_STC;
					op->arg[0]->rb=cm;
					return(1);
				}

				if(cn>=TKUCC_REG_R0)
				{
					op->nmid=TKUCC_NMID_LDC;
					op->arg[1]->rb=cn;
					return(1);
				}
			}

			if(	(op->arg[0]->aty==TKUCC_ARGTY_LABEL) &&
				(op->arg[1]->aty==TKUCC_ARGTY_REG))
			{
				op->nmid=TKUCC_NMID_LEAB;
				return(1);
			}

			if(	(op->arg[0]->aty==TKUCC_ARGTY_IMM) &&
				(op->arg[1]->aty==TKUCC_ARGTY_REG))
			{
				if((op->arg[0]->imm<0) &&
					(((s32)(op->arg[0]->imm))==op->arg[0]->imm))
				{
					op->nmid=TKUCC_NMID_LDIN;
				}
				else if(((u32)(op->arg[0]->imm))==op->arg[0]->imm)
				{
					op->nmid=TKUCC_NMID_LDIZ;
				}else
				{
					op->nmid=TKUCC_NMID_JLDI;
				}
				return(1);
			}
		}
	}

	if(	(op->nmid==TKUCC_NMID_AND) ||
		(op->nmid==TKUCC_NMID_OR ) ||
		(op->nmid==TKUCC_NMID_XOR))
	{
		if(op->n_arg==2)
		{
			if(	(op->arg[0]->aty==TKUCC_ARGTY_IMM) &&
				(op->arg[1]->aty==TKUCC_ARGTY_REG))
			{
				op->arg[2]=op->arg[1];
				op->arg[1]=op->arg[0];
				op->arg[0]=op->arg[2];
				op->n_arg=3;
			}
		}
	}

	if(op->nmid==TKUCC_NMID_MOVP)
	{
		op->nmid=TKUCC_NMID_MOVQ;
		return(1);
	}

	return(0);
}

char *TKUCC_AsmNameForNmid(int nmid);

int TKUCC_AsmEncodeOp(TKUCC_MainContext *ctx,
	TKUCC_AsmOp *op)
{
	u64 opn, opm;
	s64 imm0, imm1;
	int opw0, opw1, opw2, opw3, opw4, opw5;
	int rlc0, rlc1, rlc2;
	int rn_2r, rm_2r, rn_1r, sc;
	int ri0_2r, ri1_2r;
	int rm_3r, ro_3r, rn_3r;
	int idx, nmid, fmid, lbl;
	
	TKUCC_AsmCheckRemapVirtualOp(ctx, op);
	idx=TKUCC_AsmLookupOpEnodeIdx(ctx, op);
	if(idx<0)
	{
		printf("TKUCC_AsmEncodeOp: Fail Lookup for NMID %X(%s)\n",
			op->nmid, TKUCC_AsmNameForNmid(op->nmid));
		return(-1);
	}
	opn=tkucc_jx2_optab[idx].opn;
	opm=tkucc_jx2_optab[idx].opm;
	nmid=tkucc_jx2_optab[idx].nmid;
	fmid=tkucc_jx2_optab[idx].fmid;
	fmid=TKUCC_AsmCheckOpFmid(ctx, op, fmid);

	rn_2r=op->arg[1]->rb;
	rm_2r=op->arg[0]->rb;
	imm0=op->arg[0]->imm;
	imm1=op->arg[1]->imm;
	rn_1r=rm_2r;
	rm_3r=rm_2r;
	ro_3r=rn_2r;
	rn_3r=op->arg[2]->rb;
	
	ri0_2r=op->arg[0]->ri;
	ri1_2r=op->arg[1]->ri;
	
	lbl=-1;
	rlc0=-1;	rlc1=-1;
	rlc2=-1;
	opw0=-1; opw1=-1;
	opw2=-1; opw3=-1;
	opw4=-1; opw5=-1;

	switch(fmid)
	{
	case TKUCC_FMID_REGREG4:
		opw0=((u16)opn) | ((rn_2r&15)<<4) | ((rm_2r&15)<<0);
		break;
	case TKUCC_FMID_REGST4:
	case TKUCC_FMID_REGSTR0N:
		opw0=((u16)opn) | ((rm_2r&15)<<4) | ((rn_2r&15)<<0);
		break;
	case TKUCC_FMID_REGLD4:
	case TKUCC_FMID_REGLDR0M:
		opw0=((u16)opn) | ((rn_2r&15)<<4) | ((rm_2r&15)<<0);
		break;
	case TKUCC_FMID_REGREG55A:
		opw0=((u16)opn) | ((rn_2r&15)<<4) | ((rm_2r&15)<<0);
		if(rm_2r&16)
			opw0|=0x0100;
		if(rn_2r&16)
			opw0|=0x0200;
		break;

	case TKUCC_FMID_NONE:
		opw0=((u16)opn);
		break;
	case TKUCC_FMID_NONEB:
		opw0=(u16)(opn    );
		opw1=(u16)(opn>>16);
		break;

	case TKUCC_FMID_REGSTSPVIMM4:
		sc=TKUCC_AsmGetDispScale(ctx, nmid, rn_2r);
		opw0=((u16)opn) | ((rm_2r&15)<<4) | ((imm1>>sc)&15);
		break;
	case TKUCC_FMID_REGLDSPVIMM4:
		sc=TKUCC_AsmGetDispScale(ctx, nmid, rm_2r);
		opw0=((u16)opn) | ((rn_2r&15)<<4) | ((imm0>>sc)&15);
		break;
		
	case TKUCC_FMID_REGVIMM4:
	case TKUCC_FMID_REGVIMM4_N:
	case TKUCC_FMID_REGKVIMM4_U:
	case TKUCC_FMID_REGKVIMM4_N:
		opw0=((u16)opn) | ((rn_2r&15)<<4) | (imm0&15);
		break;
	case TKUCC_FMID_REGRN4:
		opw0=((u16)opn) | ((rn_1r&15)<<4);
		if(rn_1r&16)
			opw0|=0x0800;
		break;
	case TKUCC_FMID_IMM5RN4:
		opw0=((u16)opn) | ((imm0&15)<<4);
		if(imm0&16)
			opw0|=0x0800;
		break;

	case TKUCC_FMID_REGR0REG4:
		opw0=((u16)opn) | ((rn_3r&15)<<4) | ((rm_3r&15)<<0);
		break;
	case TKUCC_FMID_REGIMM8S:
		opw0=((u16)opn) | ((rn_2r&15)<<8) | (imm0&255);
		break;

	case TKUCC_FMID_REGSTDISP3:
		sc=TKUCC_AsmGetDispScale(ctx, nmid, rn_2r);
		opw0=((u16)opn) | (((imm1>>sc)&7)<<8) |
			((rm_2r&15)<<4) | ((rn_2r&15)<<0);
		break;
	case TKUCC_FMID_REGLDDISP3:
		sc=TKUCC_AsmGetDispScale(ctx, nmid, rm_2r);
		opw0=((u16)opn) | (((imm0>>sc)&7)<<8) |
			((rn_2r&15)<<4) | ((rm_2r&15)<<0);
		break;
	
	case TKUCC_FMID_IMM12A_U:
	case TKUCC_FMID_IMM12A_N:
		opw0=((u16)opn) | (imm0&4095);
		break;
	
	case TKUCC_FMID_REGSTDISP5:
		sc=TKUCC_AsmGetDispScale(ctx, nmid, rn_2r);
		opw0=((u16)opn) | ((rm_2r&15)<<4) | ((rn_2r&15)<<0);
		opw1=((u16)(opn>>16)) | (((imm1>>sc)&31)<<4);
		if(rm_2r&16)
			opw1|=0x0400;
		if(rn_2r&16)
			opw1|=0x0200;
		break;
	case TKUCC_FMID_REGLDDISP5:
		sc=TKUCC_AsmGetDispScale(ctx, nmid, rm_2r);
		opw0=((u16)opn) | ((rn_2r&15)<<4) | ((rm_2r&15)<<0);
		opw1=((u16)(opn>>16)) | (((imm1>>sc)&31)<<4);
		if(rn_2r&16)
			opw1|=0x0400;
		if(rm_2r&16)
			opw1|=0x0200;
		break;

	case TKUCC_FMID_REGSTRON:
		opw0=((u16)opn) | ((rm_2r&15)<<4) | ((rn_2r&15)<<0);
		opw1=((u16)(opn>>16)) | ((ri1_2r&31)<<4);
		if(rm_2r&16)
			opw1|=0x0400;
		if(rn_2r&16)
			opw1|=0x0200;
		break;
	case TKUCC_FMID_REGLDROM:
		opw0=((u16)opn) | ((rn_2r&15)<<4) | ((rm_2r&15)<<0);
		opw1=((u16)(opn>>16)) | ((ri0_2r&31)<<4);
		if(rn_2r&16)
			opw1|=0x0400;
		if(rm_2r&16)
			opw1|=0x0200;
		break;

	case TKUCC_FMID_REGREGREG:
		opw0=((u16)opn) | ((rn_3r&15)<<4) | ((rm_3r&15)<<0);
		opw1=((u16)(opn>>16)) | ((ro_3r&31)<<4);
		if(rn_3r&16)
			opw1|=0x0400;
		if(rm_3r&16)
			opw1|=0x0200;
		break;

	case TKUCC_FMID_REGREGB:
		opw0=((u16)opn) | ((rn_2r&15)<<4) | ((rm_2r&15)<<0);
		opw1=((u16)(opn>>16));
		if(rn_2r&16)
			opw1|=0x0400;
		if(rm_2r&16)
			opw1|=0x0200;
		break;
	case TKUCC_FMID_REGRON:
		opw0=((u16)opn);
		opw1=((u16)(opn>>16)) | ((rn_1r&31)<<4);
		break;
	
	case TKUCC_FMID_REGIMM5REG:
		opw0=((u16)opn) | ((rn_3r&15)<<4) | ((rm_3r&15)<<0);
		opw1=((u16)(opn>>16)) | ((imm1&31)<<4);
		if(rn_3r&16)
			opw1|=0x0400;
		if(rm_3r&16)
			opw1|=0x0200;
		break;


	case TKUCC_FMID_REGSTDISP:
		sc=TKUCC_AsmGetDispScale(ctx, nmid, rn_2r);
		opw0=((u16)opn) | ((rm_2r&15)<<4) | ((rn_2r&15)<<0);
		opw1=((u16)(opn>>16)) | ((imm1>>sc)&511);
		if(rm_2r&16)
			opw1|=0x0400;
		if(rn_2r&16)
			opw1|=0x0200;
		break;
	case TKUCC_FMID_REGLDDISP:
		sc=TKUCC_AsmGetDispScale(ctx, nmid, rm_2r);
		opw0=((u16)opn) | ((rn_2r&15)<<4) | ((rm_2r&15)<<0);
		opw1=((u16)(opn>>16)) | ((imm0>>sc)&511);
		if(rn_2r&16)
			opw1|=0x0400;
		if(rm_2r&16)
			opw1|=0x0200;
		break;

	case TKUCC_FMID_PCDISP20:
		opw0=((u16)opn)|0x00FF;
		opw1=((u16)(opn>>16))|0x0FFE;
		if(rm_2r&16)
			opw1|=0x0400;
		rlc0=TKUCC_RELOC_JX2_RELW20S;
		lbl=op->arg[0]->lbl;
		break;

	case TKUCC_FMID_REGIMMREG:
	case TKUCC_FMID_REGIMMREG_N:
		opw0=((u16)opn) | ((rn_3r&15)<<4) | ((rm_3r&15)<<0);
		opw1=((u16)(opn>>16)) | (imm1&511);
		if(rn_3r&16)
			opw1|=0x0400;
		if(rm_3r&16)
			opw1|=0x0200;
		break;

	case TKUCC_FMID_REGIMMREG_8S:
		opw0=((u16)opn) | ((rn_3r&15)<<4) | ((rm_3r&15)<<0);
		opw1=((u16)(opn>>16)) | (imm1&255);
		if(rn_3r&16)
			opw1|=0x0400;
		if(rm_3r&16)
			opw1|=0x0200;
		break;
	
	case TKUCC_FMID_REGIMM_10:
	case TKUCC_FMID_REGIMM_10_N:
		opw0=((u16)opn) | ((rn_2r&15)<<4);
		opw1=((u16)(opn>>16)) | (imm0&1023);
		if(rn_2r&16)
			opw1|=0x0400;
		break;

	case TKUCC_FMID_REGIMM16_U:
	case TKUCC_FMID_REGIMM16_N:
	case TKUCC_FMID_REGIMM16S:
		opw0=((u16)opn) | (rn_2r&31);
		opw1=(imm0&65535);
		break;

	case TKUCC_FMID_IMM24_U:
	case TKUCC_FMID_IMM24_N:
		opw0=((u16)opn) | ((imm0>>16)&255);
		opw1=(imm0&65535);
		break;

	case TKUCC_FMID_REGSTDISP_GBLJ33:
		opw0=0xFE00;
		opw1=0x0000;
		opw2=((u16)opn) | ((rm_2r&15)<<4);
		opw3=((u16)(opn>>16));
		if(rm_2r&16)
			opw3|=0x0400;
		rlc0=TKUCC_RELOC_JX2_RELGBLJ33;
		lbl=op->arg[1]->lbl;
		break;
	case TKUCC_FMID_REGLDDISP_GBLJ33:
		opw0=0xFE00;
		opw1=0x0000;
		opw2=((u16)opn) | ((rn_2r&15)<<4);
		opw3=((u16)(opn>>16));
		if(rn_2r&16)
			opw3|=0x0400;
		rlc0=TKUCC_RELOC_JX2_RELGBLJ33;
		lbl=op->arg[0]->lbl;
		break;

	case TKUCC_FMID_REGSTDISP_J33:
		sc=TKUCC_AsmGetDispScale(ctx, nmid, rn_2r);
		opw0=0xFE00|((imm1>>(sc+24))&0x00FF);
		opw1=0x0000|((imm1>>(sc+ 8))&0xFFFF);
		opw2=((u16)opn) | ((rm_2r&15)<<4) | ((rn_2r&15)<<0);
		opw3=((u16)(opn>>16)) | ((imm1>>sc)&255);
		if(rm_2r&16)
			opw3|=0x0400;
		if(rn_2r&16)
			opw3|=0x0200;
		if((imm1>>(sc+32))&1)
			opw3|=0x0100;
		break;
	case TKUCC_FMID_REGLDDISP_J33:
		sc=TKUCC_AsmGetDispScale(ctx, nmid, rm_2r);
		opw0=0xFE00|((imm0>>(sc+24))&0x00FF);
		opw1=0x0000|((imm0>>(sc+ 8))&0xFFFF);
		opw2=((u16)opn) | ((rn_2r&15)<<4) | ((rm_2r&15)<<0);
		opw3=((u16)(opn>>16)) | ((imm0>>sc)&255);
		if(rn_2r&16)
			opw3|=0x0400;
		if(rm_2r&16)
			opw3|=0x0200;
		if((imm0>>(sc+32))&1)
			opw3|=0x0100;
		break;
	

	case TKUCC_FMID_REGIMM_10_J33:
		opw0=0xFE00|((imm0>>24)&0x00FF);
		opw1=((imm0>>8)&0xFFFF);
		opw2=((u16)opn) | ((rn_2r&15)<<4);
		opw3=((u16)(opn>>16)) | (imm0&0x00FF);
		if(rn_2r&16)
			opw3|=0x0400;
		if(imm0<0)
			opw3|=0x0100;
		break;

	case TKUCC_FMID_REGIMMREG_J33:
		opw0=0xFE00|((imm1>>24)&0x00FF);
		opw1=((imm1>>8)&0xFFFF);
		opw2=((u16)opn) | ((rn_3r&15)<<4) | ((rm_3r&15)<<0);
		opw3=((u16)(opn>>16)) | (imm1&0x00FF);
		if(rn_3r&16)
			opw3|=0x0400;
		if(rm_3r&16)
			opw3|=0x0200;
		if(imm1<0)
			opw3|=0x0100;
		break;

	case TKUCC_FMID_REGIMM_J64:
		opw0=0xFE00|((imm1>>56)&0x00FF);
		opw1=((imm1>>40)&0xFFFF);
		opw2=0xFE00|((imm1>>32)&0x00FF);
		opw3=((imm1>>16)&0xFFFF);
		opw4=((u16)opn) | (rn_2r&63);
		opw5=(imm0&65535);
		break;

	default:
		printf("TKUCC_AsmEncodeOp: Unhandled FMID %X\n", fmid);
		break;
	}
	
	if((opw0>=0) && ((opw0&0xE000)==0xE000) && ((opw0&0xEA00)!=0xEA00))
	{
		if(op->pred&4)
		{
			if(op->pred&1)
			{
				opw0|=0x0400;
			}
		}else
		{
			if(!(opm&0x1000))
			opw0|=0x1000;
		}
	}

	if((opw2>=0) && ((opw2&0xE000)==0xE000) && ((opw2&0xEA00)!=0xEA00))
	{
		if(op->pred&4)
		{
			if(op->pred&1)
			{
				opw2|=0x0400;
			}
		}else
		{
			if(!(opm&0x1000))
				opw2|=0x1000;
		}
	}
	
	if(opw0>=0)
	{
		if(rlc0>=0)
			TKUCC_AsmEmitReloc(ctx, lbl, rlc0);
		TKUCC_AsmEmitWord(ctx, opw0);
		if(opw1>=0)
			TKUCC_AsmEmitWord(ctx, opw1);
		if(opw2>=0)
			TKUCC_AsmEmitWord(ctx, opw2);
		if(opw3>=0)
			TKUCC_AsmEmitWord(ctx, opw3);
		if(opw4>=0)
			TKUCC_AsmEmitWord(ctx, opw4);
		if(opw5>=0)
			TKUCC_AsmEmitWord(ctx, opw5);
		
		return(1);
	}
	
	printf("TKUCC_AsmEncodeOp: No Op-Word\n");
	return(0);
}

TKUCC_AsmOp *TKUCC_AsmAllocOp(TKUCC_MainContext *ctx)
{
	TKUCC_AsmOp *tmp;
	tmp=TKUCC_ZMallocZero(ctx, sizeof(TKUCC_AsmOp), TKUCC_ZID_ASM);
	return(tmp);
}
